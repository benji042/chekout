import{as as Z,aL as Qs}from"./index-m-1z-isx.js";var yn={};const ve={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof yn<"u"?yn.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},Xs={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return(e==null?void 0:e.filter(r=>r.chainNamespace===t))||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){var s;if(!t)return;const r=e.find(o=>o.caipNetworkId===t);if(r)return r.name;const[n]=t.split(":");return((s=ve.CHAIN_NAME_MAP)==null?void 0:s[n])||void 0}};var eo=20,to=1,mt=1e6,bn=1e6,ro=-7,no=21,so=!1,rr="[big.js] ",yt=rr+"Invalid ",Ar=yt+"decimal places",oo=yt+"rounding mode",ls=rr+"Division by zero",oe={},qe=void 0,ao=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function ds(){function e(t){var r=this;if(!(r instanceof e))return t===qe?ds():new e(t);if(t instanceof e)r.s=t.s,r.e=t.e,r.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(yt+"value");t=t===0&&1/t<0?"-0":String(t)}io(r,t)}r.constructor=e}return e.prototype=oe,e.DP=eo,e.RM=to,e.NE=ro,e.PE=no,e.strict=so,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function io(e,t){var r,n,s;if(!ao.test(t))throw Error(yt+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),s=t.length,n=0;n<s&&t.charAt(n)=="0";)++n;if(n==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=r-n-1,e.c=[],r=0;n<=s;)e.c[r++]=+t.charAt(n++)}return e}function bt(e,t,r,n){var s=e.c;if(r===qe&&(r=e.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(oo);if(t<1)n=r===3&&(n||!!s[0])||t===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==qe))),s.length=1,n?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(n=r===1&&s[t]>=5||r===2&&(s[t]>5||s[t]===5&&(n||s[t+1]!==qe||s[t-1]&1))||r===3&&(n||!!s[0]),s.length=t,n){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function Et(e,t,r){var n=e.e,s=e.c.join(""),o=s.length;if(t)s=s.charAt(0)+(o>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>o)for(n-=o;n--;)s+="0";else n<o&&(s=s.slice(0,n)+"."+s.slice(n));else o>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&r?"-"+s:s}oe.abs=function(){var e=new this.constructor(this);return e.s=1,e};oe.cmp=function(e){var t,r=this,n=r.c,s=(e=new r.constructor(e)).c,o=r.s,a=e.s,i=r.e,c=e.e;if(!n[0]||!s[0])return n[0]?o:s[0]?-a:0;if(o!=a)return o;if(t=o<0,i!=c)return i>c^t?1:-1;for(a=(i=n.length)<(c=s.length)?i:c,o=-1;++o<a;)if(n[o]!=s[o])return n[o]>s[o]^t?1:-1;return i==c?0:i>c^t?1:-1};oe.div=function(e){var t=this,r=t.constructor,n=t.c,s=(e=new r(e)).c,o=t.s==e.s?1:-1,a=r.DP;if(a!==~~a||a<0||a>mt)throw Error(Ar);if(!s[0])throw Error(ls);if(!n[0])return e.s=o,e.c=[e.e=0],e;var i,c,l,d,u,f=s.slice(),v=i=s.length,y=n.length,g=n.slice(0,i),p=g.length,w=e,b=w.c=[],k=0,U=a+(w.e=t.e-e.e)+1;for(w.s=o,o=U<0?0:U,f.unshift(0);p++<i;)g.push(0);do{for(l=0;l<10;l++){if(i!=(p=g.length))d=i>p?1:-1;else for(u=-1,d=0;++u<i;)if(s[u]!=g[u]){d=s[u]>g[u]?1:-1;break}if(d<0){for(c=p==i?s:f;p;){if(g[--p]<c[p]){for(u=p;u&&!g[--u];)g[u]=9;--g[u],g[p]+=10}g[p]-=c[p]}for(;!g[0];)g.shift()}else break}b[k++]=d?l:++l,g[0]&&d?g[p]=n[v]||0:g=[n[v]]}while((v++<y||g[0]!==qe)&&o--);return!b[0]&&k!=1&&(b.shift(),w.e--,U--),k>U&&bt(w,U,r.RM,g[0]!==qe),w};oe.eq=function(e){return this.cmp(e)===0};oe.gt=function(e){return this.cmp(e)>0};oe.gte=function(e){return this.cmp(e)>-1};oe.lt=function(e){return this.cmp(e)<0};oe.lte=function(e){return this.cmp(e)<1};oe.minus=oe.sub=function(e){var t,r,n,s,o=this,a=o.constructor,i=o.s,c=(e=new a(e)).s;if(i!=c)return e.s=-c,o.plus(e);var l=o.c.slice(),d=o.e,u=e.c,f=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new a(o):e.s=1,e;if(i=d-f){for((s=i<0)?(i=-i,n=l):(f=d,n=u),n.reverse(),c=i;c--;)n.push(0);n.reverse()}else for(r=((s=l.length<u.length)?l:u).length,i=c=0;c<r;c++)if(l[c]!=u[c]){s=l[c]<u[c];break}if(s&&(n=l,l=u,u=n,e.s=-e.s),(c=(r=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;r>i;){if(l[--r]<u[r]){for(t=r;t&&!l[--t];)l[t]=9;--l[t],l[r]+=10}l[r]-=u[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(e.s=1,l=[f=0]),e.c=l,e.e=f,e};oe.mod=function(e){var t,r=this,n=r.constructor,s=r.s,o=(e=new n(e)).s;if(!e.c[0])throw Error(ls);return r.s=e.s=1,t=e.cmp(r)==1,r.s=s,e.s=o,t?new n(r):(s=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=s,n.RM=o,this.minus(r.times(e)))};oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};oe.plus=oe.add=function(e){var t,r,n,s=this,o=s.constructor;if(e=new o(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var a=s.e,i=s.c,c=e.e,l=e.c;if(!i[0]||!l[0])return l[0]||(i[0]?e=new o(s):e.s=s.s),e;if(i=i.slice(),t=a-c){for(t>0?(c=a,n=l):(t=-t,n=i),n.reverse();t--;)n.push(0);n.reverse()}for(i.length-l.length<0&&(n=l,l=i,i=n),t=l.length,r=0;t;i[t]%=10)r=(i[--t]=i[t]+l[t]+r)/10|0;for(r&&(i.unshift(r),++c),t=i.length;i[--t]===0;)i.pop();return e.c=i,e.e=c,e};oe.pow=function(e){var t=this,r=new t.constructor("1"),n=r,s=e<0;if(e!==~~e||e<-bn||e>bn)throw Error(yt+"exponent");for(s&&(e=-e);e&1&&(n=n.times(t)),e>>=1,!!e;)t=t.times(t);return s?r.div(n):n};oe.prec=function(e,t){if(e!==~~e||e<1||e>mt)throw Error(yt+"precision");return bt(new this.constructor(this),e,t)};oe.round=function(e,t){if(e===qe)e=0;else if(e!==~~e||e<-mt||e>mt)throw Error(Ar);return bt(new this.constructor(this),e+this.e+1,t)};oe.sqrt=function(){var e,t,r,n=this,s=n.constructor,o=n.s,a=n.e,i=new s("0.5");if(!n.c[0])return new s(n);if(o<0)throw Error(rr+"No square root");o=Math.sqrt(+Et(n,!0,!0)),o===0||o===1/0?(t=n.c.join(""),t.length+a&1||(t+="0"),o=Math.sqrt(t),a=((a+1)/2|0)-(a<0||a&1),e=new s((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):e=new s(o+""),a=e.e+(s.DP+=4);do r=e,e=i.times(r.plus(n.div(r)));while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return bt(e,(s.DP-=4)+e.e+1,s.RM)};oe.times=oe.mul=function(e){var t,r=this,n=r.constructor,s=r.c,o=(e=new n(e)).c,a=s.length,i=o.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!s[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+l,a<i&&(t=s,s=o,o=t,l=a,a=i,i=l),t=new Array(l=a+i);l--;)t[l]=0;for(c=i;c--;){for(i=0,l=a+c;l>c;)i=t[l]+o[c]*s[l-c-1]+i,t[l--]=i%10,i=i/10|0;t[l]=i}for(i?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};oe.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==qe){if(e!==~~e||e<0||e>mt)throw Error(Ar);for(r=bt(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return Et(r,!0,!!n)};oe.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==qe){if(e!==~~e||e<0||e>mt)throw Error(Ar);for(r=bt(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return Et(r,!1,!!n)};oe[Symbol.for("nodejs.util.inspect.custom")]=oe.toJSON=oe.toString=function(){var e=this,t=e.constructor;return Et(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};oe.toNumber=function(){var e=+Et(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(rr+"Imprecise conversion");return e};oe.toPrecision=function(e,t){var r=this,n=r.constructor,s=r.c[0];if(e!==qe){if(e!==~~e||e<1||e>mt)throw Error(yt+"precision");for(r=bt(new n(r),e,t);r.c.length<e;)r.c.push(0)}return Et(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};oe.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(rr+"valueOf disallowed");return Et(e,e.e<=t.NE||e.e>=t.PE,!0)};var Ft=ds();const co={bigNumber(e){return e?new Ft(e):new Ft(0)},multiply(e,t){if(e===void 0||t===void 0)return new Ft(0);const r=new Ft(e),n=new Ft(t);return r.times(n)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},lo=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],uo=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],po=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ho={getERC20Abi:e=>ve.USDT_CONTRACT_ADDRESSES.includes(e)?po:lo,getSwapAbi:()=>uo},H={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function Or(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const F={setItem(e,t){qt()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(qt())return localStorage.getItem(e)||void 0},removeItem(e){qt()&&localStorage.removeItem(e)},clear(){qt()&&localStorage.clear()}};function qt(){return typeof window<"u"&&typeof localStorage<"u"}function wr(e,t){return t==="light"?{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const fo=Symbol(),En=Object.getPrototypeOf,Jr=new WeakMap,mo=e=>e&&(Jr.has(e)?Jr.get(e):En(e)===Object.prototype||En(e)===Array.prototype),go=e=>mo(e)&&e[fo]||null,An=(e,t=!0)=>{Jr.set(e,t)},yr={},xr=e=>typeof e=="object"&&e!==null,tt=new WeakMap,Vt=new WeakSet,wo=(e=Object.is,t=(l,d)=>new Proxy(l,d),r=l=>xr(l)&&!Vt.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,o=(l,d,u=n)=>{const f=s.get(l);if((f==null?void 0:f[0])===d)return f[1];const v=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return An(v,!0),s.set(l,[d,v]),Reflect.ownKeys(l).forEach(y=>{if(Object.getOwnPropertyDescriptor(v,y))return;const g=Reflect.get(l,y),{enumerable:p}=Reflect.getOwnPropertyDescriptor(l,y),w={value:g,enumerable:p,configurable:!0};if(Vt.has(g))An(g,!1);else if(g instanceof Promise)delete w.value,w.get=()=>u(g);else if(tt.has(g)){const[b,k]=tt.get(g);w.value=o(b,k(),u)}Object.defineProperty(v,y,w)}),Object.preventExtensions(v)},a=new WeakMap,i=[1,1],c=l=>{if(!xr(l))throw new Error("object required");const d=a.get(l);if(d)return d;let u=i[0];const f=new Set,v=(E,m=++i[0])=>{u!==m&&(u=m,f.forEach(N=>N(E,m)))};let y=i[1];const g=(E=++i[1])=>(y!==E&&!f.size&&(y=E,w.forEach(([m])=>{const N=m[1](E);N>u&&(u=N)})),u),p=E=>(m,N)=>{const _=[...m];_[1]=[E,..._[1]],v(_,N)},w=new Map,b=(E,m)=>{if((yr?"production":void 0)!=="production"&&w.has(E))throw new Error("prop listener already exists");if(f.size){const N=m[3](p(E));w.set(E,[m,N])}else w.set(E,[m])},k=E=>{var m;const N=w.get(E);N&&(w.delete(E),(m=N[1])==null||m.call(N))},U=E=>(f.add(E),f.size===1&&w.forEach(([m,N],_)=>{if((yr?"production":void 0)!=="production"&&N)throw new Error("remove already exists");const B=m[3](p(_));w.set(_,[m,B])}),()=>{f.delete(E),f.size===0&&w.forEach(([m,N],_)=>{N&&(N(),w.set(_,[m]))})}),L=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),O=t(L,{deleteProperty(E,m){const N=Reflect.get(E,m);k(m);const _=Reflect.deleteProperty(E,m);return _&&v(["delete",[m],N]),_},set(E,m,N,_){const B=Reflect.has(E,m),M=Reflect.get(E,m,_);if(B&&(e(M,N)||a.has(N)&&e(M,a.get(N))))return!0;k(m),xr(N)&&(N=go(N)||N);let A=N;if(N instanceof Promise)N.then(C=>{N.status="fulfilled",N.value=C,v(["resolve",[m],C])}).catch(C=>{N.status="rejected",N.reason=C,v(["reject",[m],C])});else{!tt.has(N)&&r(N)&&(A=c(N));const C=!Vt.has(A)&&tt.get(A);C&&b(m,C)}return Reflect.set(E,m,A,_),v(["set",[m],N,M]),!0}});a.set(l,O);const S=[L,g,o,U];return tt.set(O,S),Reflect.ownKeys(l).forEach(E=>{const m=Object.getOwnPropertyDescriptor(l,E);"value"in m&&(O[E]=l[E],delete m.value,delete m.writable),Object.defineProperty(L,E,m)}),O})=>[c,tt,Vt,e,t,r,n,s,o,a,i],[yo]=wo();function le(e={}){return yo(e)}function Te(e,t,r){const n=tt.get(e);(yr?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s;const o=[],a=n[3];let i=!1;const c=a(l=>{o.push(l),s||(s=Promise.resolve().then(()=>{s=void 0,i&&t(o.splice(0))}))});return i=!0,()=>{i=!1,c()}}function Jt(e,t){const r=tt.get(e);(yr?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,s,o]=r;return o(n,s(),t)}function St(e){return Vt.add(e),e}function Ce(e,t,r,n){let s=e[t];return Te(e,()=>{const o=e[t];Object.is(s,o)||r(s=o)})}function bo(e){const t=le({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const s=this.data.find(o=>o[0]===r);return s?s[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(s=>s[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(s=>s[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(t,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(t),t}const us=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Eo="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Be={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},j={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=j.getActiveNamespace(),t=j.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:e,caipNetworkId:t,chainId:n}},setWalletConnectDeepLink({name:e,href:t}){try{F.setItem(H.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=F.getItem(H.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{F.removeItem(H.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{F.setItem(H.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{F.setItem(H.ACTIVE_CAIP_NETWORK_ID,e),j.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return F.getItem(H.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{F.removeItem(H.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=Or(e);F.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=j.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),F.setItem(H.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=F.getItem(H.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const r=Or(e);F.setItem(r,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return F.getItem(H.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=Or(e);return F.getItem(t)}catch{console.info("Unable to get connected connector id in namespace ",e)}},setConnectedSocialProvider(e){try{F.setItem(H.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return F.getItem(H.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{F.removeItem(H.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return F.getItem(H.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var e,t;return(t=(e=F.getItem(H.ACTIVE_CAIP_NETWORK_ID))==null?void 0:e.split(":"))==null?void 0:t[1]},setConnectionStatus(e){try{F.setItem(H.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return F.getItem(H.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=F.getItem(H.CONNECTED_NAMESPACES);return e!=null&&e.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));F.setItem(H.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=j.getConnectedNamespaces();t.includes(e)||(t.push(e),j.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=j.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),j.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return F.getItem(H.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{F.setItem(H.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{F.removeItem(H.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=F.getItem(H.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=j.getBalanceCache();F.setItem(H.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const t=j.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;j.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=j.getBalanceCache();t[e.caipAddress]=e,F.setItem(H.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=F.getItem(H.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=j.getBalanceCache();F.setItem(H.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const t=j.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),j.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=j.getNativeBalanceCache();t[e.caipAddress]=e,F.setItem(H.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=F.getItem(H.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const t=j.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;j.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=j.getEnsCache();t[e.address]=e,F.setItem(H.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=j.getEnsCache();F.setItem(H.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=F.getItem(H.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const t=j.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;j.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=j.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},F.setItem(H.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=j.getIdentityCache();F.setItem(H.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{F.removeItem(H.PORTFOLIO_CACHE),F.removeItem(H.NATIVE_BALANCE_CACHE),F.removeItem(H.ENS_CACHE),F.removeItem(H.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{F.setItem(H.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=F.getItem(H.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const r={...j.getConnections(),[t]:e};F.setItem(H.CONNECTIONS,JSON.stringify(r))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const e=F.getItem(H.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}}},Q={isMobile(){var e;return this.isClient()?!!(typeof(window==null?void 0:window.matchMedia)=="function"&&((e=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&e.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e==null?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return Q.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Be.TEN_SEC_MS:!0},isAllowedRetry(e,t=Be.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var e,t;if(Q.isClient()&&window.self!==window.top)try{const r=(t=(e=window==null?void 0:window.location)==null?void 0:e.ancestorOrigins)==null?void 0:t[0],n="https://app.safe.global";if(r){const s=new URL(r),o=new URL(n);return s.hostname===o.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Be.FOUR_MINUTES_MS},getNetworkId(e){return e==null?void 0:e.split(":")[1]},getPlainAddress(e){return e==null?void 0:e.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let r;return(...n)=>{function s(){e(...n)}r&&clearTimeout(r),r=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,r=null){if(Q.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,s=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const o=encodeURIComponent(t);return{redirect:`${n}wc?uri=${o}`,redirectUniversalLink:s?`${s}wc?uri=${o}`:void 0,href:n}},formatUniversalUrl(e,t){if(!Q.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(t);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?j.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){window==null||window.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){return window==null?void 0:window.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var r,n,s;if(typeof window>"u")return!1;const e=(n=(r=window.matchMedia)==null?void 0:r.call(window,"(display-mode: standalone)"))==null?void 0:n.matches,t=(s=window==null?void 0:window.navigator)==null?void 0:s.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((r,n)=>{const s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,Q.wait(2e3)])},formatBalance(e,t){let r="0.000";if(typeof e=="string"){const n=Number(e);if(n){const s=Math.floor(n*1e3)/1e3;s&&(r=s.toString())}}return`${r}${t?` ${t}`:""}`},formatBalance2(e,t){var n;let r;if(e==="0")r="0";else if(typeof e=="string"){const s=Number(e);s&&(r=(n=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:t}},getApiUrl(){return ve.W3M_API_URL},getBlockchainApiUrl(){return ve.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ve.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){var t,r;return typeof e=="string"?e:typeof((r=(t=e==null?void 0:e.issues)==null?void 0:t[0])==null?void 0:r.message)=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const r={};return t&&e&&(e.forEach((n,s)=>{r[n]=s}),t.sort((n,s)=>{const o=r[n.id],a=r[s.id];return o!==void 0&&a!==void 0?o-a:o!==void 0?-1:a!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const r of e)t+=r.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[r,n]=t.split(".");return{dollars:r,pennies:n}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const r=new Set;return e.filter(n=>{const s=n[t];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(e,t,r){const n=e.length===0?Be.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${n}-${r}`},createAccount(e,t,r,n,s){return{namespace:e,address:t,type:r,publicKey:n,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),r=t[0];return t.filter(Boolean).length===3&&r in ve.CHAIN_NAME_MAP},isMac(){const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(e).host==="auth.magic.link"){const n="provider_authorization_url=",s=e.substring(e.indexOf(n)+n.length),o=this.injectIntoUrl(decodeURIComponent(s),r,t);return e.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(e,r,t)},injectIntoUrl(e,t,r){const n=e.indexOf(t);if(n===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",n),o=t.length,a=s!==-1?s:e.length,i=e.substring(0,n+o),c=e.substring(n+o,a),l=e.substring(s),d=c+r;return i+d+l}};async function Wt(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class nr{constructor({baseUrl:t,clientId:r}){this.baseUrl=t,this.clientId=r}async get({headers:t,signal:r,cache:n,...s}){const o=this.createUrl(s);return(await Wt(o,{method:"GET",headers:t,signal:r,cache:n})).json()}async getBlob({headers:t,signal:r,...n}){const s=this.createUrl(n);return(await Wt(s,{method:"GET",headers:t,signal:r})).blob()}async post({body:t,headers:r,signal:n,...s}){const o=this.createUrl(s);return(await Wt(o,{method:"POST",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async put({body:t,headers:r,signal:n,...s}){const o=this.createUrl(s);return(await Wt(o,{method:"PUT",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async delete({body:t,headers:r,signal:n,...s}){const o=this.createUrl(s);return(await Wt(o,{method:"DELETE",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}createUrl({path:t,params:r}){const n=new URL(t,this.baseUrl);return r&&Object.entries(r).forEach(([s,o])=>{o&&n.searchParams.append(s,o)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const Ao={getFeatureValue(e,t){const r=t==null?void 0:t[e];return r===void 0?Be.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(Q.isTelegram()){if(Q.isIos())return e.filter(t=>t!=="google");if(Q.isMac())return e.filter(t=>t!=="x");if(Q.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},D=le({features:Be.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Be.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),re={state:D,subscribeKey(e,t){return Ce(D,e,t)},setOptions(e){Object.assign(D,e)},setRemoteFeatures(e){var r;if(!e)return;const t={...D.remoteFeatures,...e};D.remoteFeatures=t,(r=D.remoteFeatures)!=null&&r.socials&&(D.remoteFeatures.socials=Ao.filterSocialsByPlatform(D.remoteFeatures.socials))},setFeatures(e){if(!e)return;D.features||(D.features=Be.DEFAULT_FEATURES);const t={...D.features,...e};D.features=t},setProjectId(e){D.projectId=e},setCustomRpcUrls(e){D.customRpcUrls=e},setAllWallets(e){D.allWallets=e},setIncludeWalletIds(e){D.includeWalletIds=e},setExcludeWalletIds(e){D.excludeWalletIds=e},setFeaturedWalletIds(e){D.featuredWalletIds=e},setTokens(e){D.tokens=e},setTermsConditionsUrl(e){D.termsConditionsUrl=e},setPrivacyPolicyUrl(e){D.privacyPolicyUrl=e},setCustomWallets(e){D.customWallets=e},setIsSiweEnabled(e){D.isSiweEnabled=e},setIsUniversalProvider(e){D.isUniversalProvider=e},setSdkVersion(e){D.sdkVersion=e},setMetadata(e){D.metadata=e},setDisableAppend(e){D.disableAppend=e},setEIP6963Enabled(e){D.enableEIP6963=e},setDebug(e){D.debug=e},setEnableWalletConnect(e){D.enableWalletConnect=e},setEnableWalletGuide(e){D.enableWalletGuide=e},setEnableAuthLogger(e){D.enableAuthLogger=e},setEnableWallets(e){D.enableWallets=e},setPreferUniversalLinks(e){D.experimental_preferUniversalLinks=e},setHasMultipleAddresses(e){D.hasMultipleAddresses=e},setSIWX(e){D.siwx=e},setConnectMethodsOrder(e){D.features={...D.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){D.features={...D.features,walletFeaturesOrder:e}},setSocialsOrder(e){D.remoteFeatures={...D.remoteFeatures,socials:e}},setCollapseWallets(e){D.features={...D.features,collapseWallets:e}},setEnableEmbedded(e){D.enableEmbedded=e},setAllowUnsupportedChain(e){D.allowUnsupportedChain=e},setManualWCControl(e){D.manualWCControl=e},setEnableNetworkSwitch(e){D.enableNetworkSwitch=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,r])=>{r&&(D.defaultAccountTypes[t]=r)})},setUniversalProviderConfigOverride(e){D.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return D.universalProviderConfigOverride},getSnapshot(){return Jt(D)}},vo=Object.freeze({enabled:!0,events:[]}),Co=new nr({baseUrl:Q.getAnalyticsUrl(),clientId:null}),No=5,ko=60*1e3,Ze=le({...vo}),Io={state:Ze,subscribeKey(e,t){return Ce(Ze,e,t)},async sendError(e,t){if(!Ze.enabled)return;const r=Date.now();if(Ze.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<ko}).length>=No)return;const n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Ze.events.push(n);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=re.state;await Co.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Q.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Ze.enabled=!0},disable(){Ze.enabled=!1},clearEvents(){Ze.events=[]}};class _t extends Error{constructor(t,r,n){super(t),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,_t.prototype);let s=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const o=n.stack,a=o.indexOf(`
`);if(a>-1){const i=o.substring(a+1);this.stack=`${this.name}: ${this.message}
${i}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,_t):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function vn(e,t){const r=e instanceof _t?e:new _t(e instanceof Error?e.message:String(e),t,e);throw Io.sendError(r,r.category),r}function Re(e,t="INTERNAL_SDK_ERROR"){const r={};return Object.keys(e).forEach(n=>{const s=e[n];if(typeof s=="function"){let o=s;s.constructor.name==="AsyncFunction"?o=async(...a)=>{try{return await s(...a)}catch(i){return vn(i,t)}}:o=(...a)=>{try{return s(...a)}catch(i){return vn(i,t)}},r[n]=o}else r[n]=s}),r}const He={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},So={handleMobileDeeplinkRedirect(e,t){const r=window.location.href,n=encodeURIComponent(r);if(e===He.PHANTOM.id&&!("phantom"in window)){const s=r.startsWith("https")?"https":"http",o=r.split("/")[2],a=encodeURIComponent(`${s}://${o}`);window.location.href=`${He.PHANTOM.url}/ul/browse/${n}?ref=${a}`}e===He.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${He.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),t===ve.CHAIN.SOLANA&&e===He.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${He.COINBASE.url}/dapp?cb_url=${n}`)}},Oe=le({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),_o={state:Oe,subscribeNetworkImages(e){return Te(Oe.networkImages,()=>e(Oe.networkImages))},subscribeKey(e,t){return Ce(Oe,e,t)},subscribe(e){return Te(Oe,()=>e(Oe))},setWalletImage(e,t){Oe.walletImages[e]=t},setNetworkImage(e,t){Oe.networkImages[e]=t},setChainImage(e,t){Oe.chainImages[e]=t},setConnectorImage(e,t){Oe.connectorImages={...Oe.connectorImages,[e]:t}},setTokenImage(e,t){Oe.tokenImages[e]=t},setCurrencyImage(e,t){Oe.currencyImages[e]=t}},Fe=Re(_o),To={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Pr=le({networkImagePromises:{}}),Uo={async fetchWalletImage(e){if(e)return await W._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){return e?this.getNetworkImageById(e)||(Pr.networkImagePromises[e]||(Pr.networkImagePromises[e]=W._fetchNetworkImage(e)),await Pr.networkImagePromises[e],this.getNetworkImageById(e)):void 0},getWalletImageById(e){if(e)return Fe.state.walletImages[e]},getWalletImage(e){if(e!=null&&e.image_url)return e==null?void 0:e.image_url;if(e!=null&&e.image_id)return Fe.state.walletImages[e.image_id]},getNetworkImage(e){var t,r,n;if((t=e==null?void 0:e.assets)!=null&&t.imageUrl)return(r=e==null?void 0:e.assets)==null?void 0:r.imageUrl;if((n=e==null?void 0:e.assets)!=null&&n.imageId)return Fe.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Fe.state.networkImages[e]},getConnectorImage(e){if(e!=null&&e.imageUrl)return e.imageUrl;if(e!=null&&e.imageId)return Fe.state.connectorImages[e.imageId]},getChainImage(e){return Fe.state.networkImages[To[e]]}},Qe=le({message:"",variant:"info",open:!1}),Oo={state:Qe,subscribeKey(e,t){return Ce(Qe,e,t)},open(e,t){const{debug:r}=re.state,{shortMessage:n,longMessage:s}=e;r&&(Qe.message=n,Qe.variant=t,Qe.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){Qe.open=!1,Qe.message="",Qe.variant="info"}},xo=Re(Oo),Po=Q.getAnalyticsUrl(),Bo=new nr({baseUrl:Po,clientId:null}),Ro=["MODAL_CREATED"],Ve=le({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),$e={state:Ve,subscribe(e){return Te(Ve,()=>e(Ve))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=re.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=ue.state.address;if(Ro.includes(e.data.event)||typeof window>"u")return;await Bo.post({path:"/e",params:$e.getSdkProperties(),body:{eventId:Q.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),Ve.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===ve.HTTP_STATUS_CODES.FORBIDDEN&&!Ve.reportedErrors.FORBIDDEN&&(xo.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${qt()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ve.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){var t;Ve.timestamp=Date.now(),Ve.data=e,(t=re.state.features)!=null&&t.analytics&&$e._sendAnalyticsEvent(Ve)}},Lo=Q.getApiUrl(),ke=new nr({baseUrl:Lo,clientId:null}),Do=40,Cn=4,$o=20,q=le({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),W={state:q,subscribeKey(e,t){return Ce(q,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=re.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return re.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${ke.baseUrl}/getWalletImage/${e}`,r=await ke.getBlob({path:t,params:W._getSdkProperties()});Fe.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){const t=`${ke.baseUrl}/public/getAssetImage/${e}`,r=await ke.getBlob({path:t,params:W._getSdkProperties()});Fe.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){const t=`${ke.baseUrl}/public/getAssetImage/${e}`,r=await ke.getBlob({path:t,params:W._getSdkProperties()});Fe.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){const t=`${ke.baseUrl}/public/getCurrencyImage/${e}`,r=await ke.getBlob({path:t,params:W._getSdkProperties()});Fe.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){const t=`${ke.baseUrl}/public/getTokenImage/${e}`,r=await ke.getBlob({path:t,params:W._getSdkProperties()});Fe.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform(e){return Q.isMobile()?e==null?void 0:e.filter(t=>t.mobile_link||t.id===He.COINBASE.id?!0:h.state.activeChain==="solana"&&(t.id===He.SOLFLARE.id||t.id===He.PHANTOM.id)):e},async fetchProjectConfig(){return(await ke.get({path:"/appkit/v1/config",params:W._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await ke.get({path:"/projects/v1/origins",params:W._getSdkProperties()});return e}catch{return[]}},async fetchNetworkImages(){var t;const e=(t=h.getAllRequestedCaipNetworks())==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!Uo.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>W._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:e}=Y.state,t=e.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(t.map(r=>W._fetchConnectorImage(r)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>W._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>W._fetchTokenImage(t)))},async fetchWallets(e){var n;const t=e.exclude??[];W._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(He).map(s=>s.id));const r=await ke.get({path:"/getWallets",params:{...W._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:(n=e.include)==null?void 0:n.join(","),exclude:t.join(",")}});return{data:W._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=re.state;if(e!=null&&e.length){const t={...W._getSdkProperties(),page:1,entries:(e==null?void 0:e.length)??Cn,include:e},{data:r}=await W.fetchWallets(t),n=[...r].sort((o,a)=>e.indexOf(o.id)-e.indexOf(a.id)),s=n.map(o=>o.image_id).filter(Boolean);await Promise.allSettled(s.map(o=>W._fetchWalletImage(o))),q.featured=n,q.allFeatured=n}},async fetchRecommendedWallets(){try{q.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=re.state,n=[...t??[],...r??[]].filter(Boolean),s=h.getRequestedCaipNetworkIds().join(","),o={page:1,entries:Cn,include:e,exclude:n,chains:s},{data:a,count:i}=await W.fetchWallets(o),c=j.getRecentWallets(),l=a.map(u=>u.image_id).filter(Boolean),d=c.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...l,...d].map(u=>W._fetchWalletImage(u))),q.recommended=a,q.allRecommended=a,q.count=i??0}catch{}finally{q.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:r,featuredWalletIds:n}=re.state,s=h.getRequestedCaipNetworkIds().join(","),o=[...q.recommended.map(({id:d})=>d),...r??[],...n??[]].filter(Boolean),a={page:e,entries:Do,include:t,exclude:o,chains:s},{data:i,count:c}=await W.fetchWallets(a),l=i.slice(0,$o).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(l.map(d=>W._fetchWalletImage(d))),q.wallets=Q.uniqueBy([...q.wallets,...W._filterOutExtensions(i)],"id").filter(d=>{var u;return(u=d.chains)==null?void 0:u.some(f=>s.includes(f))}),q.count=c>q.count?c:q.count,q.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:r}=await W.fetchWallets(t);r&&r.forEach(n=>{q.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:r,excludeWalletIds:n}=re.state,s=h.getRequestedCaipNetworkIds().join(",");q.search=[];const o={page:1,entries:100,search:e==null?void 0:e.trim(),badge_type:t,include:r,exclude:n,chains:s},{data:a}=await W.fetchWallets(o);$e.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const i=a.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...i.map(c=>W._fetchWalletImage(c)),Q.wait(300)]),q.search=W._filterOutExtensions(a)},initPromise(e,t){return q.promises[e]||(q.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const s=[e&&W.initPromise("connectorImages",W.fetchConnectorImages),t&&W.initPromise("featuredWallets",W.fetchFeaturedWallets),r&&W.initPromise("recommendedWallets",W.fetchRecommendedWallets),n&&W.initPromise("networkImages",W.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var e;(e=re.state.features)!=null&&e.analytics&&W.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await ke.get({path:"/getAnalyticsConfig",params:W._getSdkProperties()});re.setFeatures({analytics:e})}catch{re.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!(e!=null&&e.length)){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}const t=h.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))}),q.recommended=q.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))}),q.filteredWallets=q.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))})},clearFilterByNamespaces(){q.filteredWallets=[]},setFilterByNamespace(e){if(!e){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}const t=h.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))}),q.recommended=q.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))}),q.filteredWallets=q.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>t.includes(s))})}},ae=le({view:"Connect",history:["Connect"],transactionStack:[]}),Mo={state:ae,subscribeKey(e,t){return Ce(ae,e,t)},pushTransactionStack(e){ae.transactionStack.push(e)},popTransactionStack(e){const t=ae.transactionStack.pop();if(!t)return;const{onSuccess:r,onError:n,onCancel:s}=t;switch(e){case"success":r==null||r();break;case"error":n==null||n(),ne.goBack();break;case"cancel":s==null||s(),ne.goBack();break}},push(e,t){e!==ae.view&&(ae.view=e,ae.history.push(e),ae.data=t)},reset(e,t){ae.view=e,ae.history=[e],ae.data=t},replace(e,t){ae.history.at(-1)===e||(ae.view=e,ae.history[ae.history.length-1]=e,ae.data=t)},goBack(){var n;const e=h.state.activeCaipAddress,t=ne.state.view==="ConnectingFarcaster",r=!e&&t;if(ae.history.length>1){ae.history.pop();const[s]=ae.history.slice(-1);s&&(e&&s==="Connect"?ae.view="Account":ae.view=s)}else ot.close();(n=ae.data)!=null&&n.wallet&&(ae.data.wallet=void 0),setTimeout(()=>{var s,o,a;if(r){ue.setFarcasterUrl(void 0,h.state.activeChain);const i=Y.getAuthConnector();(s=i==null?void 0:i.provider)==null||s.reload();const c=Jt(re.state);(a=(o=i==null?void 0:i.provider)==null?void 0:o.syncDappData)==null||a.call(o,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(e){if(ae.history.length>1){ae.history=ae.history.slice(0,e+1);const[t]=ae.history.slice(-1);t&&(ae.view=t)}},goBackOrCloseModal(){ne.state.history.length>1?ne.goBack():ot.close()}},ne=Re(Mo),ze=le({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Zr={state:ze,subscribe(e){return Te(ze,()=>e(ze))},setThemeMode(e){ze.themeMode=e;try{const t=Y.getAuthConnector();if(t){const r=Zr.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:wr(r,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){ze.themeVariables={...ze.themeVariables,...e};try{const t=Y.getAuthConnector();if(t){const r=Zr.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:r,w3mThemeVariables:wr(ze.themeVariables,ze.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Jt(ze)}},lr=Re(Zr),ps={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},X=le({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...ps},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),Fo={state:X,subscribe(e){return Te(X,()=>{e(X)})},subscribeKey(e,t){return Ce(X,e,t)},initialize(e){e.forEach(t=>{const r=j.getConnectedConnectorId(t);r&&Y.setConnectorId(r,t)})},setActiveConnector(e){e&&(X.activeConnector=St(e))},setConnectors(e){e.filter(n=>!X.allConnectors.some(s=>s.id===n.id&&Y.getConnectorName(s.name)===Y.getConnectorName(n.name)&&s.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&X.allConnectors.push(St(n))});const t=Y.getEnabledNamespaces(),r=Y.getEnabledConnectors(t);X.connectors=Y.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(X.filterByNamespaceMap).forEach(t=>{X.filterByNamespaceMap[t]=!1}),e.forEach(t=>{X.filterByNamespaceMap[t]=!0}),Y.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){X.filterByNamespaceMap[e]=t,Y.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=Y.getEnabledNamespaces(),t=Y.getEnabledConnectors(e),r=Y.areAllNamespacesEnabled();X.connectors=Y.mergeMultiChainConnectors(t),r?W.clearFilterByNamespaces():W.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(X.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return X.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(X.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=Y.generateConnectorMapByName(e),r=[];return t.forEach(n=>{const s=n[0],o=(s==null?void 0:s.id)===ve.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:o?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(e){const t=new Map;return e.forEach(r=>{const{name:n}=r,s=Y.getConnectorName(n);if(!s)return;const o=t.get(s)||[];o.find(a=>a.chain===r.chain)||o.push(r),t.set(s,o)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(r=>{t.find(n=>n.chain===r.chain)||t.push(r)}),t},addConnector(e){var t,r,n;if(e.id===ve.CONNECTOR_ID.AUTH){const s=e,o=Jt(re.state),a=lr.getSnapshot().themeMode,i=lr.getSnapshot().themeVariables;(r=(t=s==null?void 0:s.provider)==null?void 0:t.syncDappData)==null||r.call(t,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType}),(n=s==null?void 0:s.provider)==null||n.syncTheme({themeMode:a,themeVariables:i,w3mThemeVariables:wr(i,a)}),Y.setConnectors([e])}else Y.setConnectors([e])},getAuthConnector(e){var n;const t=e||h.state.activeChain,r=X.connectors.find(s=>s.id===ve.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(s=>s.chain===t):r},getAnnouncedConnectorRdns(){return X.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>{var t;return(t=e.info)==null?void 0:t.rdns})},getConnectorById(e){return X.allConnectors.find(t=>t.id===e)},getConnector(e,t){return X.allConnectors.filter(r=>r.chain===h.state.activeChain).find(r=>{var n;return r.explorerId===e||((n=r.info)==null?void 0:n.rdns)===t})},syncIfAuthConnector(e){var o,a;if(e.id!=="ID_AUTH")return;const t=e,r=Jt(re.state),n=lr.getSnapshot().themeMode,s=lr.getSnapshot().themeVariables;(a=(o=t==null?void 0:t.provider)==null?void 0:o.syncDappData)==null||a.call(o,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),t.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:wr(s,n)})},getConnectorsByNamespace(e){const t=X.allConnectors.filter(r=>r.chain===e);return Y.mergeMultiChainConnectors(t)},selectWalletConnector(e){const t=Y.getConnector(e.id,e.rdns),r=h.state.activeChain;So.handleMobileDeeplinkRedirect((t==null?void 0:t.explorerId)||e.id,r),t?ne.push("ConnectingExternal",{connector:t}):ne.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?Y.getConnectorsByNamespace(e):Y.mergeMultiChainConnectors(X.allConnectors)},setFilterByNamespace(e){X.filterByNamespace=e,X.connectors=Y.getConnectors(e),W.setFilterByNamespace(e)},setConnectorId(e,t){e&&(X.activeConnectorIds={...X.activeConnectorIds,[t]:e},j.setConnectedConnectorId(t,e))},removeConnectorId(e){X.activeConnectorIds={...X.activeConnectorIds,[e]:void 0},j.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return X.activeConnectorIds[e]},isConnected(e){return e?!!X.activeConnectorIds[e]:Object.values(X.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){X.activeConnectorIds={...ps}}},Y=Re(Fo),fr={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},dt=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),fe=le({...dt}),Wo={state:fe,subscribeKey(e,t){return Ce(fe,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Q.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){fe.message=dt.message,fe.variant=dt.variant,fe.svg=dt.svg,fe.open=dt.open,fe.autoClose=dt.autoClose},_showMessage({message:e,svg:t,variant:r="success",autoClose:n=dt.autoClose}){fe.open?(fe.open=!1,setTimeout(()=>{fe.message=e,fe.variant=r,fe.svg=t,fe.open=!0,fe.autoClose=n},150)):(fe.message=e,fe.variant=r,fe.svg=t,fe.open=!0,fe.autoClose=n)}},vr=Wo,ce=le({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),jo={state:ce,subscribe(e){return Te(ce,()=>e(ce))},setLastNetworkInView(e){ce.lastNetworkInView=e},async fetchTransactions(e,t){var r,n;if(!e)throw new Error("Transactions can't be fetched without an accountAddress");ce.loading=!0;try{const s=await $.fetchTransactions({account:e,cursor:ce.next,onramp:t,cache:t==="coinbase"?"no-cache":void 0,chainId:(r=h.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),o=zt.filterSpamTransactions(s.data),a=zt.filterByConnectedChain(o),i=[...ce.transactions,...a];ce.loading=!1,t==="coinbase"?ce.coinbaseTransactions=zt.groupTransactionsByYearAndMonth(ce.coinbaseTransactions,s.data):(ce.transactions=i,ce.transactionsByYear=zt.groupTransactionsByYearAndMonth(ce.transactionsByYear,a)),ce.empty=i.length===0,ce.next=s.next?s.next:void 0}catch{const s=h.state.activeChain;$e.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:re.state.projectId,cursor:ce.next,isSmartAccount:((n=ue.state.preferredAccountTypes)==null?void 0:n[s])===fr.ACCOUNT_TYPES.SMART_ACCOUNT}}),vr.showError("Failed to fetch transactions"),ce.loading=!1,ce.empty=!0,ce.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const r=e;return t.forEach(n=>{const s=new Date(n.metadata.minedAt).getFullYear(),o=new Date(n.metadata.minedAt).getMonth(),a=r[s]??{},i=(a[o]??[]).filter(c=>c.id!==n.id);r[s]={...a,[o]:[...i,n].sort((c,l)=>new Date(l.metadata.minedAt).getTime()-new Date(c.metadata.minedAt).getTime())}}),r},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>{var n;return((n=r.nft_info)==null?void 0:n.flags.is_spam)===!0}))},filterByConnectedChain(e){var r;const t=(r=h.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return e.filter(n=>n.metadata.chain===t)},clearCursor(){ce.next=void 0},resetTransactions(){ce.transactions=[],ce.transactionsByYear={},ce.lastNetworkInView=void 0,ce.loading=!1,ce.empty=!1,ce.next=void 0}},zt=Re(jo,"API_ERROR"),ie=le({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let ct;const Ho={state:ie,subscribeKey(e,t){return Ce(ie,e,t)},_getClient(){return ie._client},setClient(e){ie._client=St(e)},async connectWalletConnect(){var e,t,r,n;if(Q.isTelegram()||Q.isSafari()&&Q.isIos()){if(ct){await ct,ct=void 0;return}if(!Q.isPairingExpired(ie==null?void 0:ie.wcPairingExpiry)){const s=ie.wcUri;ie.wcUri=s;return}ct=(t=(e=G._getClient())==null?void 0:e.connectWalletConnect)==null?void 0:t.call(e).catch(()=>{}),G.state.status="connecting",await ct,ct=void 0,ie.wcPairingExpiry=void 0,G.state.status="connected"}else await((n=(r=G._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(e,t,r=!0){var n,s;await((s=(n=G._getClient())==null?void 0:n.connectExternal)==null?void 0:s.call(n,e)),r&&h.setActiveNamespace(t)},async reconnectExternal(e){var r,n;await((n=(r=G._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,e));const t=e.chain||h.state.activeChain;t&&Y.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){var n;ot.setLoading(!0,h.state.activeChain);const r=Y.getAuthConnector();r&&(ue.setPreferredAccountType(e,t),await r.provider.setPreferredAccount(e),j.setPreferredAccountTypes(ue.state.preferredAccountTypes??{[t]:e}),await G.reconnectExternal(r),ot.setLoading(!1,h.state.activeChain),$e.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:((n=h.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(e){var t;return(t=G._getClient())==null?void 0:t.signMessage(e)},parseUnits(e,t){var r;return(r=G._getClient())==null?void 0:r.parseUnits(e,t)},formatUnits(e,t){var r;return(r=G._getClient())==null?void 0:r.formatUnits(e,t)},async sendTransaction(e){var t;return(t=G._getClient())==null?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return(t=G._getClient())==null?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return(t=G._getClient())==null?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t;return((t=G._getClient())==null?void 0:t.walletGetAssets(e))??{}},async estimateGas(e){var t;return(t=G._getClient())==null?void 0:t.estimateGas(e)},async writeContract(e){var t;return(t=G._getClient())==null?void 0:t.writeContract(e)},async getEnsAddress(e){var t;return(t=G._getClient())==null?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return(t=G._getClient())==null?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,r;return((r=(t=G._getClient())==null?void 0:t.checkInstalled)==null?void 0:r.call(t,e))||!1},resetWcConnection(){ie.wcUri=void 0,ie.wcPairingExpiry=void 0,ie.wcLinking=void 0,ie.recentWallet=void 0,ie.status="disconnected",zt.resetTransactions(),j.deleteWalletConnectDeepLink()},resetUri(){ie.wcUri=void 0,ie.wcPairingExpiry=void 0,ct=void 0},finalizeWcConnection(){var r,n;const{wcLinking:e,recentWallet:t}=G.state;e&&j.setWalletConnectDeepLink(e),t&&j.setAppKitRecent(t),$e.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:((n=(r=ne.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(e){ie.wcBasic=e},setUri(e){ie.wcUri=e,ie.wcPairingExpiry=Q.getPairingExpiry()},setWcLinking(e){ie.wcLinking=e},setWcError(e){ie.wcError=e,ie.buffering=!1},setRecentWallet(e){ie.recentWallet=e},setBuffering(e){ie.buffering=e},setStatus(e){ie.status=e},async disconnect(e){var t;try{await((t=G._getClient())==null?void 0:t.disconnect(e))}catch(r){throw new _t("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(e,t){ie.connections.set(t,e)},switchAccount({connection:e,address:t,namespace:r}){if(Y.state.activeConnectorIds[r]===e.connectorId){const n=h.state.activeCaipNetwork;if(n){const s=`${r}:${n.id}:${t}`;ue.setCaipAddress(s,r)}else console.warn(`No current network found for namespace "${r}"`)}else{const n=Y.getConnector(e.connectorId);n?G.connectExternal(n,r):console.warn(`No connector found for namespace "${r}"`)}}},G=Re(Ho),At=le({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),It={state:At,subscribe(e){return Te(At,()=>e(At))},subscribeOpen(e){return Ce(At,"open",e)},set(e){Object.assign(At,{...At,...e})}},Br={createBalance(e,t){const r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Qs(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const r=t[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(r=>this.isValidAsset(r)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},Nn={async getMyTokensWithBalance(e){const t=ue.state.address,r=h.state.activeCaipNetwork;if(!t||!r)return[];if(r.chainNamespace==="eip155"){const s=await this.getEIP155Balances(t,r);if(s)return this.filterLowQualityTokens(s)}const n=await $.getBalance(t,r.caipNetworkId,e);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(e,t){var r,n,s;try{const o=Br.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!((s=(n=(r=await G.getCapabilities(e))==null?void 0:r[o])==null?void 0:n.assetDiscovery)!=null&&s.supported))return null;const a=await G.walletGetAssets({account:e,chainFilter:[o]});return Br.isWalletGetAssetsResponse(a)?(a[o]||[]).map(i=>Br.createBalance(i,t.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},mapBalancesToSwapTokens(e){return(e==null?void 0:e.map(t=>({...t,address:t!=null&&t.address?t.address:h.getActiveNetworkTokenAddress(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1})))||[]}},se=le({tokenBalances:[],loading:!1}),qo={state:se,subscribe(e){return Te(se,()=>e(se))},subscribeKey(e,t){return Ce(se,e,t)},setToken(e){e&&(se.token=St(e))},setTokenAmount(e){se.sendTokenAmount=e},setReceiverAddress(e){se.receiverAddress=e},setReceiverProfileImageUrl(e){se.receiverProfileImageUrl=e},setReceiverProfileName(e){se.receiverProfileName=e},setNetworkBalanceInUsd(e){se.networkBalanceInUSD=e},setLoading(e){se.loading=e},async sendToken(){var e;try{switch(te.setLoading(!0),(e=h.state.activeCaipNetwork)==null?void 0:e.chainNamespace){case"eip155":await te.sendEvmToken();return;case"solana":await te.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{te.setLoading(!1)}},async sendEvmToken(){var r,n,s,o;const e=h.state.activeChain,t=(r=ue.state.preferredAccountTypes)==null?void 0:r[e];if(!te.state.sendTokenAmount||!te.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!te.state.token)throw new Error("A token is required");(n=te.state.token)!=null&&n.address?($e.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===fr.ACCOUNT_TYPES.SMART_ACCOUNT,token:te.state.token.address,amount:te.state.sendTokenAmount,network:((s=h.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await te.sendERC20Token({receiverAddress:te.state.receiverAddress,tokenAddress:te.state.token.address,sendTokenAmount:te.state.sendTokenAmount,decimals:te.state.token.quantity.decimals})):($e.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===fr.ACCOUNT_TYPES.SMART_ACCOUNT,token:te.state.token.symbol||"",amount:te.state.sendTokenAmount,network:((o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),await te.sendNativeToken({receiverAddress:te.state.receiverAddress,sendTokenAmount:te.state.sendTokenAmount,decimals:te.state.token.quantity.decimals}))},async fetchTokenBalance(e){var o,a;se.loading=!0;const t=(o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,r=(a=h.state.activeCaipNetwork)==null?void 0:a.chainNamespace,n=h.state.activeCaipAddress,s=n?Q.getPlainAddress(n):void 0;if(se.lastRetry&&!Q.isAllowedRetry(se.lastRetry,30*Be.ONE_SEC_MS))return se.loading=!1,[];try{if(s&&t&&r){const i=await Nn.getMyTokensWithBalance();return se.tokenBalances=i,se.lastRetry=void 0,i}}catch(i){se.lastRetry=Date.now(),e==null||e(i),vr.showError("Token Balance Unavailable")}finally{se.loading=!1}return[]},fetchNetworkBalance(){if(se.tokenBalances.length===0)return;const e=Nn.mapBalancesToSwapTokens(se.tokenBalances);if(!e)return;const t=e.find(r=>r.address===h.getActiveNetworkTokenAddress());t&&(se.networkBalanceInUSD=t?co.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){var s,o,a,i;ne.pushTransactionStack({});const t=e.receiverAddress,r=ue.state.address,n=G.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await G.sendTransaction({chainNamespace:"eip155",to:t,address:r,data:"0x",value:n??BigInt(0)}),$e.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((s=ue.state.preferredAccountTypes)==null?void 0:s.eip155)===fr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=te.state.token)==null?void 0:o.symbol)||"",amount:e.sendTokenAmount,network:((a=h.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),(i=G._getClient())==null||i.updateBalance("eip155"),te.resetSend()},async sendERC20Token(e){ne.pushTransactionStack({onSuccess(){ne.replace("Account")}});const t=G.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(ue.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const r=Q.getPlainAddress(e.tokenAddress);await G.writeContract({fromAddress:ue.state.address,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:ho.getERC20Abi(r),chainNamespace:"eip155"}),te.resetSend()}},async sendSolanaToken(){var e;if(!te.state.sendTokenAmount||!te.state.receiverAddress)throw new Error("An amount and receiver address are required");ne.pushTransactionStack({onSuccess(){ne.replace("Account")}}),await G.sendTransaction({chainNamespace:"solana",to:te.state.receiverAddress,value:te.state.sendTokenAmount}),(e=G._getClient())==null||e.updateBalance("solana"),te.resetSend()},resetSend(){se.token=void 0,se.sendTokenAmount=void 0,se.receiverAddress=void 0,se.receiverProfileImageUrl=void 0,se.receiverProfileName=void 0,se.loading=!1,se.tokenBalances=[]}},te=Re(qo),Rr={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},dr={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},x=le({chains:bo(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Vo={state:x,subscribe(e){return Te(x,()=>{e(x)})},subscribeKey(e,t){return Ce(x,e,t)},subscribeChainProp(e,t,r){let n;return Te(x.chains,()=>{var o;const s=r||x.activeChain;if(s){const a=(o=x.chains.get(s))==null?void 0:o[e];n!==a&&(n=a,t(a))}})},initialize(e,t,r){const{chainId:n,namespace:s}=j.getActiveNetworkProps(),o=t==null?void 0:t.find(l=>l.id.toString()===(n==null?void 0:n.toString())),a=e.find(l=>(l==null?void 0:l.namespace)===s)||(e==null?void 0:e[0]),i=e.map(l=>l.namespace).filter(l=>l!==void 0),c=re.state.enableEmbedded?new Set([...i]):new Set([...(t==null?void 0:t.map(l=>l.chainNamespace))??[]]);((e==null?void 0:e.length)===0||!a)&&(x.noAdapters=!0),x.noAdapters||(x.activeChain=a==null?void 0:a.namespace,x.activeCaipNetwork=o,h.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:o}),x.activeChain&&It.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const d=t==null?void 0:t.filter(u=>u.chainNamespace===l);h.state.chains.set(l,{namespace:l,networkState:le({...dr,caipNetwork:d==null?void 0:d[0]}),accountState:le(Rr),caipNetworks:d??[],...r}),h.setRequestedCaipNetworks(d??[],l)})},removeAdapter(e){var t,r;if(x.activeChain===e){const n=Array.from(x.chains.entries()).find(([s])=>s!==e);if(n){const s=(r=(t=n[1])==null?void 0:t.caipNetworks)==null?void 0:r[0];s&&h.setActiveCaipNetwork(s)}}x.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:r},n){x.chains.set(e.namespace,{namespace:e.namespace,networkState:{...dr,caipNetwork:n[0]},accountState:Rr,caipNetworks:n,connectionControllerClient:r,networkControllerClient:t}),h.setRequestedCaipNetworks((n==null?void 0:n.filter(s=>s.chainNamespace===e.namespace))??[],e.namespace)},addNetwork(e){var r;const t=x.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];(r=t.caipNetworks)!=null&&r.find(s=>s.id===e.id)||n.push(e),x.chains.set(e.chainNamespace,{...t,caipNetworks:n}),h.setRequestedCaipNetworks(n,e.chainNamespace),Y.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){var n,s,o;const r=x.chains.get(e);if(r){const a=((n=x.activeCaipNetwork)==null?void 0:n.id)===t,i=[...((s=r.caipNetworks)==null?void 0:s.filter(c=>c.id!==t))||[]];a&&((o=r==null?void 0:r.caipNetworks)!=null&&o[0])&&h.setActiveCaipNetwork(r.caipNetworks[0]),x.chains.set(e,{...r,caipNetworks:i}),h.setRequestedCaipNetworks(i||[],e),i.length===0&&Y.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const r=x.chains.get(e);r&&(r.networkState={...r.networkState||dr,...t},x.chains.set(e,r))},setChainAccountData(e,t,r=!0){if(!e)throw new Error("Chain is required to update chain account data");const n=x.chains.get(e);if(n){const s={...n.accountState||Rr,...t};x.chains.set(e,{...n,accountState:s}),(x.chains.size===1||x.activeChain===e)&&(t.caipAddress&&(x.activeCaipAddress=t.caipAddress),ue.replaceState(s))}},setChainNetworkData(e,t){if(!e)return;const r=x.chains.get(e);if(r){const n={...r.networkState||dr,...t};x.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r,n=!0){h.setChainAccountData(r,{[e]:t},n),e==="status"&&t==="disconnected"&&r&&Y.removeConnectorId(r)},setActiveNamespace(e){var n,s;x.activeChain=e;const t=e?x.chains.get(e):void 0,r=(n=t==null?void 0:t.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&e&&(x.activeCaipAddress=(s=t==null?void 0:t.accountState)==null?void 0:s.caipAddress,x.activeCaipNetwork=r,h.setChainNetworkData(e,{caipNetwork:r}),j.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),It.set({activeChain:e,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(e){var r,n,s;if(!e)return;x.activeChain!==e.chainNamespace&&h.setIsSwitchingNamespace(!0);const t=x.chains.get(e.chainNamespace);x.activeChain=e.chainNamespace,x.activeCaipNetwork=e,h.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),(r=t==null?void 0:t.accountState)!=null&&r.address?x.activeCaipAddress=`${e.chainNamespace}:${e.id}:${(n=t==null?void 0:t.accountState)==null?void 0:n.address}`:x.activeCaipAddress=void 0,h.setAccountProp("caipAddress",x.activeCaipAddress,e.chainNamespace),t&&ue.replaceState(t.accountState),te.resetSend(),It.set({activeChain:x.activeChain,selectedNetworkId:(s=x.activeCaipNetwork)==null?void 0:s.caipNetworkId}),j.setActiveCaipNetworkId(e.caipNetworkId),!h.checkIfSupportedNetwork(e.chainNamespace)&&re.state.enableNetworkSwitch&&!re.state.allowUnsupportedChain&&!G.state.wcBasic&&h.showUnsupportedChainUI()},addCaipNetwork(e){var r;if(!e)return;const t=x.chains.get(e.chainNamespace);t&&((r=t==null?void 0:t.caipNetworks)==null||r.push(e))},async switchActiveNamespace(e){var s;if(!e)return;const t=e!==h.state.activeChain,r=(s=h.getNetworkData(e))==null?void 0:s.caipNetwork,n=h.getCaipNetworkByNamespace(e,r==null?void 0:r.id);t&&n&&await h.switchActiveNetwork(n)},async switchActiveNetwork(e){var n,s;const t=!((s=(n=h.state.chains.get(h.state.activeChain))==null?void 0:n.caipNetworks)!=null&&s.some(o=>{var a;return o.id===((a=x.activeCaipNetwork)==null?void 0:a.id)})),r=h.getNetworkControllerClient(e.chainNamespace);if(r){try{await r.switchCaipNetwork(e),t&&ot.close()}catch{ne.goBack()}$e.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||x.activeChain,r=x.chains.get(t);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(e){const t=e||x.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const r=x.chains.get(t);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(e,t){var s;let r=x.activeChain;if(t&&(r=t),!r)return;const n=(s=x.chains.get(r))==null?void 0:s.accountState;if(n)return n[e]},getNetworkProp(e,t){var n;const r=(n=x.chains.get(t))==null?void 0:n.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){const t=x.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(t==null?void 0:t.networkState)||{};return Q.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const e=[];return x.chains.forEach(t=>{const r=h.getRequestedCaipNetworks(t.namespace);e.push(...r)}),e},setRequestedCaipNetworks(e,t){h.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=h.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),n=Array.from(new Set(r));Y.filterByNamespaces(n)},getAllApprovedCaipNetworkIds(){const e=[];return x.chains.forEach(t=>{const r=h.getApprovedCaipNetworkIds(t.namespace);e.push(...r)}),e},getActiveCaipNetwork(){return x.activeCaipNetwork},getActiveCaipAddress(){return x.activeCaipAddress},getApprovedCaipNetworkIds(e){var t,r;return((r=(t=x.chains.get(e))==null?void 0:t.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(e){var r;const t=await((r=h.getNetworkControllerClient())==null?void 0:r.getApprovedCaipNetworksData());h.setAdapterNetworkState(e,{approvedCaipNetworkIds:t==null?void 0:t.approvedCaipNetworkIds,supportsAllNetworks:t==null?void 0:t.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const r=t||x.activeCaipNetwork,n=h.getRequestedCaipNetworks(e);return n.length?n==null?void 0:n.some(s=>s.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(e){var t;return x.activeChain?(t=h.getRequestedCaipNetworks(x.activeChain))==null?void 0:t.some(r=>r.id===e):!0},setSmartAccountEnabledNetworks(e,t){h.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){var r,n;const e=Xs.caipNetworkIdToNumber((r=x.activeCaipNetwork)==null?void 0:r.caipNetworkId),t=x.activeChain;return!t||!e?!1:!!((n=h.getNetworkProp("smartAccountEnabledNetworks",t))!=null&&n.includes(Number(e)))},getActiveNetworkTokenAddress(){var n,s;const e=((n=x.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",t=((s=x.activeCaipNetwork)==null?void 0:s.id)||1,r=Be.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${r}`},showUnsupportedChainUI(){ot.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=x.activeCaipNetwork;return!!(e!=null&&e.chainNamespace&&Be.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){h.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");x.activeCaipAddress=void 0,h.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Y.removeConnectorId(t)},setIsSwitchingNamespace(e){x.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const e=[];let t;if(x.chains.forEach(s=>{ve.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(o=>o===s.namespace)&&s.namespace&&e.push(s.namespace)}),e.length>0){const s=e[0];return t=s?(n=(r=x.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,t}},getAccountData(e){var t;return e?(t=h.state.chains.get(e))==null?void 0:t.accountState:ue.state},getNetworkData(e){var r;const t=e||x.activeChain;if(t)return(r=h.state.chains.get(t))==null?void 0:r.networkState},getCaipNetworkByNamespace(e,t){var s,o,a;if(!e)return;const r=h.state.chains.get(e);return((s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(i=>i.id===t))||((o=r==null?void 0:r.networkState)==null?void 0:o.caipNetwork)||((a=r==null?void 0:r.caipNetworks)==null?void 0:a[0])},getRequestedCaipNetworkIds(){const e=Y.state.filterByNamespace;return(e?[x.chains.get(e)]:Array.from(x.chains.values())).flatMap(t=>(t==null?void 0:t.caipNetworks)||[]).map(t=>t.caipNetworkId)},getCaipNetworks(e){return e?h.getRequestedCaipNetworks(e):h.getAllRequestedCaipNetworks()}},h=Re(Vo),zo={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},hs=Q.getBlockchainApiUrl(),Ie=le({clientId:null,api:new nr({baseUrl:hs,clientId:null}),supportedChains:{http:[],ws:[]}}),$={state:Ie,async get(e){const{st:t,sv:r}=$.getSdkProperties(),n=re.state.projectId,s={...e.params||{},st:t,sv:r,projectId:n};return Ie.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=re.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Ie.supportedChains.http.length||await $.getSupportedNetworks()}catch{return!1}return Ie.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await $.get({path:"v1/supported-chains"});return Ie.supportedChains=e,e}catch{return Ie.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await $.isNetworkSupported(t))return{avatar:"",name:""};const r=j.getIdentityFromCacheForAddress(e);if(r)return r;const n=await $.get({path:`/v1/identity/${e}`,params:{sender:h.state.activeCaipAddress?Q.getPlainAddress(h.state.activeCaipAddress):void 0}});return j.updateIdentityCache({address:e,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:e,cursor:t,onramp:r,signal:n,cache:s,chainId:o}){var a;return await $.isNetworkSupported((a=h.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?$.get({path:`/v1/account/${e}/history`,params:{cursor:t,onramp:r,chainId:o},signal:n,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:e,userAddress:t,from:r,to:n,gasPrice:s}){var o;return await $.isNetworkSupported((o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?$.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?$.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ie.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:re.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){var r;return await $.isNetworkSupported((r=h.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?$.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){var n;const{st:t,sv:r}=$.getSdkProperties();if(!await $.isNetworkSupported((n=h.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))throw new Error("Network not supported for Gas Price");return $.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:r}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:s}){var o;if(!await $.isNetworkSupported((o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ie.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Be.CONVERT_SLIPPAGE_TOLERANCE},projectId:re.state.projectId,from:t,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:r}){var o;const{st:n,sv:s}=$.getSdkProperties();if(!await $.isNetworkSupported((o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return $.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:e,to:t,st:n,sv:s}})},async getBalance(e,t,r){var c;const{st:n,sv:s}=$.getSdkProperties();if(!await $.isNetworkSupported((c=h.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return vr.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=j.getBalanceCacheForCaipAddress(o);if(a)return a;const i=await $.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:r,st:n,sv:s}});return j.updateBalanceCache({caipAddress:o,balance:i,timestamp:Date.now()}),i},async lookupEnsName(e){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?$.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?$.get({path:`/v1/profile/reverse/${e}`,params:{sender:ue.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?$.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:r,signature:n}){var s;return await $.isNetworkSupported((s=h.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Ie.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){var o;return await $.isNetworkSupported((o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?(await Ie.api.post({path:"/v1/generators/onrampurl",params:{projectId:re.state.projectId},body:{destinationWallets:e,defaultNetwork:r,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await $.isNetworkSupported((e=h.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await $.get({path:"/v1/onramp/options"})}catch{return zo}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}){var s;try{return await $.isNetworkSupported((s=h.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Ie.api.post({path:"/v1/onramp/quote",params:{projectId:re.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:t.id},networkFee:{amount:r,currency:t.id},paymentSubtotal:{amount:r,currency:t.id},paymentTotal:{amount:r,currency:t.id},purchaseAmount:{amount:r,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var t;return await $.isNetworkSupported((t=h.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?$.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,r){var n;return await $.isNetworkSupported((n=h.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ie.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:re.state.projectId},body:{pci:t,signature:r}}):{success:!1}},setClientId(e){Ie.clientId=e,Ie.api=new nr({baseUrl:hs,clientId:e})}},Le=le({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Ko={state:Le,replaceState(e){e&&Object.assign(Le,St(e))},subscribe(e){return h.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,r){let n;return h.subscribeChainProp("accountState",s=>{if(s){const o=s[e];n!==o&&(n=o,t(o))}},r)},setStatus(e,t){h.setAccountProp("status",e,t)},getCaipAddress(e){return h.getAccountProp("caipAddress",e)},setCaipAddress(e,t){const r=e?Q.getPlainAddress(e):void 0;t===h.state.activeChain&&(h.state.activeCaipAddress=e),h.setAccountProp("caipAddress",e,t),h.setAccountProp("address",r,t)},setBalance(e,t,r){h.setAccountProp("balance",e,r),h.setAccountProp("balanceSymbol",t,r)},setProfileName(e,t){h.setAccountProp("profileName",e,t)},setProfileImage(e,t){h.setAccountProp("profileImage",e,t)},setUser(e,t){h.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){h.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){h.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){h.setAccountProp("currentTab",e,h.state.activeChain)},setTokenBalance(e,t){e&&h.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){h.setAccountProp("shouldUpdateToAddress",e,t)},setAllAccounts(e,t){h.setAccountProp("allAccounts",e,t)},addAddressLabel(e,t,r){const n=h.getAccountProp("addressLabels",r)||new Map;n.set(e,t),h.setAccountProp("addressLabels",n,r)},removeAddressLabel(e,t){const r=h.getAccountProp("addressLabels",t)||new Map;r.delete(e),h.setAccountProp("addressLabels",r,t)},setConnectedWalletInfo(e,t){h.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){h.setAccountProp("preferredAccountTypes",{...Le.preferredAccountTypes,[t]:e},t)},setPreferredAccountTypes(e){Le.preferredAccountTypes=e},setSocialProvider(e,t){e&&h.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){h.setAccountProp("socialWindow",e?St(e):void 0,t)},setFarcasterUrl(e,t){h.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){var o,a;Le.balanceLoading=!0;const t=(o=h.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,r=(a=h.state.activeCaipNetwork)==null?void 0:a.chainNamespace,n=h.state.activeCaipAddress,s=n?Q.getPlainAddress(n):void 0;if(Le.lastRetry&&!Q.isAllowedRetry(Le.lastRetry,30*Be.ONE_SEC_MS))return Le.balanceLoading=!1,[];try{if(s&&t&&r){const i=(await $.getBalance(s,t)).balances.filter(c=>c.quantity.decimals!=="0");return ue.setTokenBalance(i,r),Le.lastRetry=void 0,Le.balanceLoading=!1,i}}catch(i){Le.lastRetry=Date.now(),e==null||e(i),vr.showError("Token Balance Unavailable")}finally{Le.balanceLoading=!1}return[]},resetAccount(e){h.resetAccount(e)}},ue=Re(Ko),Yo={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const r=h.state.activeCaipNetwork,n=ne.state.data;if(e.id===(r==null?void 0:r.id))return;const s=ue.getCaipAddress(h.state.activeChain),o=e.chainNamespace!==h.state.activeChain,a=ue.getCaipAddress(e.chainNamespace),i=Y.getConnectorId(h.state.activeChain)===ve.CONNECTOR_ID.AUTH,c=ve.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(l=>l===e.chainNamespace);t||i&&c?ne.push("SwitchNetwork",{...n,network:e}):s&&o&&!a?ne.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ne.push("SwitchNetwork",{...n,network:e})}},Se=le({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Go={state:Se,subscribe(e){return Te(Se,()=>e(Se))},subscribeKey(e,t){return Ce(Se,e,t)},async open(e){var a,i;const t=ue.state.status==="connected",r=e==null?void 0:e.namespace,n=h.state.activeChain,s=r&&r!==n,o=(a=h.getAccountData(e==null?void 0:e.namespace))==null?void 0:a.caipAddress;if(G.state.wcBasic?W.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await W.prefetch({fetchConnectorImages:!t,fetchFeaturedWallets:!t,fetchRecommendedWallets:!t}),Y.setFilterByNamespace(e==null?void 0:e.namespace),ot.setLoading(!0,r),r&&s){const c=((i=h.getNetworkData(r))==null?void 0:i.caipNetwork)||h.getRequestedCaipNetworks(r)[0];c&&Yo.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=h.state.noAdapters;re.state.manualWCControl||c&&!o?Q.isMobile()?ne.reset("AllWallets"):ne.reset("ConnectingWalletConnectBasic"):e!=null&&e.view?ne.reset(e.view,e.data):o?ne.reset("Account"):ne.reset("Connect")}Se.open=!0,It.set({open:!0}),$e.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!o}})},close(){const e=re.state.enableEmbedded,t=!!h.state.activeCaipAddress;Se.open&&$e.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Se.open=!1,ne.reset("Connect"),ot.clearLoading(),e?t?ne.replace("Account"):ne.push("Connect"):It.set({open:!1}),G.resetUri()},setLoading(e,t){t&&Se.loadingNamespaceMap.set(t,e),Se.loading=e,It.set({loading:e})},clearLoading(){Se.loadingNamespaceMap.clear(),Se.loading=!1},shake(){Se.shake||(Se.shake=!0,setTimeout(()=>{Se.shake=!1},500))}},ot=Re(Go),Kt={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Qr={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Jo={providers:us,selectedProvider:null,error:null,purchaseCurrency:Kt,paymentCurrency:Qr,purchaseCurrencies:[Kt],paymentCurrencies:[],quotesLoading:!1},J=le(Jo),Zo={state:J,subscribe(e){return Te(J,()=>e(J))},subscribeKey(e,t){return Ce(J,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=h.state.activeChain===ve.CHAIN.SOLANA?"SOL":"USDC",r=ue.state.address??"",n=new URL(e.url);n.searchParams.append("publicKey",Eo),n.searchParams.append("destinationCurrencyCode",t),n.searchParams.append("walletAddress",r),n.searchParams.append("externalCustomerId",re.state.projectId),J.selectedProvider={...e,url:n.toString()}}else J.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,r=us.filter(n=>t.includes(n.name));J.providers=r}else J.providers=[]},setPurchaseCurrency(e){J.purchaseCurrency=e},setPaymentCurrency(e){J.paymentCurrency=e},setPurchaseAmount(e){kn.state.purchaseAmount=e},setPaymentAmount(e){kn.state.paymentAmount=e},async getAvailableCurrencies(){const e=await $.getOnrampOptions();J.purchaseCurrencies=e.purchaseCurrencies,J.paymentCurrencies=e.paymentCurrencies,J.paymentCurrency=e.paymentCurrencies[0]||Qr,J.purchaseCurrency=e.purchaseCurrencies[0]||Kt,await W.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await W.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){var e,t;J.quotesLoading=!0;try{const r=await $.getOnrampQuote({purchaseCurrency:J.purchaseCurrency,paymentCurrency:J.paymentCurrency,amount:((e=J.paymentAmount)==null?void 0:e.toString())||"0",network:(t=J.purchaseCurrency)==null?void 0:t.symbol});return J.quotesLoading=!1,J.purchaseAmount=Number(r==null?void 0:r.purchaseAmount.amount),r}catch(r){return J.error=r.message,J.quotesLoading=!1,null}finally{J.quotesLoading=!1}},resetState(){J.selectedProvider=null,J.error=null,J.purchaseCurrency=Kt,J.paymentCurrency=Qr,J.purchaseCurrencies=[Kt],J.paymentCurrencies=[],J.paymentAmount=void 0,J.purchaseAmount=void 0,J.quotesLoading=!1}},kn=Re(Zo),In=2147483648,Qo={convertEVMChainIdToCoinType(e){if(e>=In)throw new Error("Invalid chainId");return(In|e)>>>0}},De=le({suggestions:[],loading:!1}),Xo={state:De,subscribe(e){return Te(De,()=>e(De))},subscribeKey(e,t){return Ce(De,e,t)},async resolveName(e){var t,r;try{return await $.lookupEnsName(e)}catch(n){const s=n;throw new Error(((r=(t=s==null?void 0:s.reasons)==null?void 0:t[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(e){try{return await $.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{De.loading=!0,De.suggestions=[];const t=await $.getEnsNameSuggestions(e);return De.suggestions=t.suggestions.map(r=>({...r,name:r.name}))||[],De.suggestions}catch(t){const r=Lr.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(r)}finally{De.loading=!1}},async getNamesForAddress(e){try{if(!h.state.activeCaipNetwork)return[];const t=j.getEnsFromCacheForAddress(e);if(t)return t;const r=await $.reverseLookupEnsName({address:e});return j.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const r=Lr.parseEnsApiError(t,"Error fetching names for address");throw new Error(r)}},async registerName(e){const t=h.state.activeCaipNetwork;if(!t)throw new Error("Network not found");const r=ue.state.address,n=Y.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");De.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ne.pushTransactionStack({onCancel(){ne.replace("RegisterAccountName")}});const o=await G.signMessage(s);De.loading=!1;const a=t.id;if(!a)throw new Error("Network not found");const i=Qo.convertEVMChainIdToCoinType(Number(a));await $.registerEnsName({coinType:i,address:r,signature:o,message:s}),ue.setProfileName(e,t.chainNamespace),ne.replace("RegisterAccountNameSuccess")}catch(s){const o=Lr.parseEnsApiError(s,`Error registering name ${e}`);throw ne.replace("RegisterAccountName"),new Error(o)}finally{De.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){var r,n;return((n=(r=e==null?void 0:e.reasons)==null?void 0:r[0])==null?void 0:n.description)||t}},Lr=Re(Xo);new Uint8Array(new Uint32Array([287454020]).buffer)[0];function br(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ea(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function sr(e,...t){if(!ea(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ta(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");br(e.outputLen),br(e.blockLen)}function Tt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fs(e,t){sr(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ur=BigInt(2**32-1),Sn=BigInt(32);function ra(e,t=!1){return t?{h:Number(e&ur),l:Number(e>>Sn&ur)}:{h:Number(e>>Sn&ur)|0,l:Number(e&ur)|0}}function na(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=ra(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}const sa=(e,t,r)=>e<<r|t>>>32-r,oa=(e,t,r)=>t<<r|e>>>32-r,aa=(e,t,r)=>t<<r-32|e>>>64-r,ia=(e,t,r)=>e<<r-32|t>>>64-r,vt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ca(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Dr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function je(e,t){return e<<32-t|e>>>t}const _n=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function la(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Tn(e){for(let t=0;t<e.length;t++)e[t]=la(e[t])}function da(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Cr(e){return typeof e=="string"&&(e=da(e)),sr(e),e}function ua(...e){let t=0;for(let n=0;n<e.length;n++){const s=e[n];sr(s),t+=s.length}const r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){const o=e[n];r.set(o,s),s+=o.length}return r}let dn=class{clone(){return this._cloneInto()}};function ms(e){const t=n=>e().update(Cr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function gs(e=32){if(vt&&typeof vt.getRandomValues=="function")return vt.getRandomValues(new Uint8Array(e));if(vt&&typeof vt.randomBytes=="function")return vt.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const ws=[],ys=[],bs=[],pa=BigInt(0),jt=BigInt(1),ha=BigInt(2),fa=BigInt(7),ma=BigInt(256),ga=BigInt(113);for(let e=0,t=jt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ws.push(2*(5*n+r)),ys.push((e+1)*(e+2)/2%64);let s=pa;for(let o=0;o<7;o++)t=(t<<jt^(t>>fa)*ga)%ma,t&ha&&(s^=jt<<(jt<<BigInt(o))-jt);bs.push(s)}const[wa,ya]=na(bs,!0),Un=(e,t,r)=>r>32?aa(e,t,r):sa(e,t,r),On=(e,t,r)=>r>32?ia(e,t,r):oa(e,t,r);function ba(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,c=(a+2)%10,l=r[c],d=r[c+1],u=Un(l,d,1)^r[i],f=On(l,d,1)^r[i+1];for(let v=0;v<50;v+=10)e[a+v]^=u,e[a+v+1]^=f}let s=e[2],o=e[3];for(let a=0;a<24;a++){const i=ys[a],c=Un(s,o,i),l=On(s,o,i),d=ws[a];s=e[d],o=e[d+1],e[d]=c,e[d+1]=l}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)r[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=wa[n],e[1]^=ya[n]}r.fill(0)}let Ea=class Es extends dn{constructor(t,r,n,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,br(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ca(this.state)}keccak(){_n||Tn(this.state32),ba(this.state32,this.rounds),_n||Tn(this.state32),this.posOut=0,this.pos=0}update(t){Tt(this);const{blockLen:r,state:n}=this;t=Cr(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);for(let i=0;i<a;i++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,r&128&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Tt(this,!1),sr(t),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,o=t.length;s<o;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,o-s);t.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return br(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fs(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:s,rounds:o,enableXOF:a}=this;return t||(t=new Es(r,n,s,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};const Aa=(e,t,r)=>ms(()=>new Ea(t,e,r));Aa(1,136,256/8);function $r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function As(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pe(e,...t){if(!As(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function xn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function va(e,t){Pe(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Pn(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}const nt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ca=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Na=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Na)throw new Error("Non little-endian hardware is not supported");function ka(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Xr(e){if(typeof e=="string")e=ka(e);else if(As(e))e=en(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Ia(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Sa(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}const _a=(e,t)=>{function r(n,...s){if(Pe(n),e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?Pe(l):Pe(l,e.nonceLength)}const o=e.tagLength;o&&s[1]!==void 0&&Pe(s[1]);const a=t(n,...s),i=(l,d)=>{if(d!==void 0){if(l!==2)throw new Error("cipher output not supported");Pe(d)}};let c=!1;return{encrypt(l,d){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Pe(l),i(a.encrypt.length,d),a.encrypt(l,d)},decrypt(l,d){if(Pe(l),o&&l.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return i(a.decrypt.length,d),a.decrypt(l,d)}}}return Object.assign(r,e),r};function Bn(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!Ta(t))throw new Error("invalid output, must be aligned");return t}function Rn(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),i=Number(r&o);e.setUint32(t+4,a,n),e.setUint32(t+0,i,n)}function Ta(e){return e.byteOffset%4===0}function en(e){return Uint8Array.from(e)}function Ut(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const vs=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Ua=vs("expand 16-byte k"),Oa=vs("expand 32-byte k"),xa=nt(Ua),Pa=nt(Oa);function ee(e,t){return e<<t|e>>>32-t}function tn(e){return e.byteOffset%4===0}const pr=64,Ba=16,Cs=2**32-1,Ln=new Uint32Array;function Ra(e,t,r,n,s,o,a,i){const c=s.length,l=new Uint8Array(pr),d=nt(l),u=tn(s)&&tn(o),f=u?nt(s):Ln,v=u?nt(o):Ln;for(let y=0;y<c;a++){if(e(t,r,n,d,a,i),a>=Cs)throw new Error("arx: counter overflow");const g=Math.min(pr,c-y);if(u&&g===pr){const p=y/4;if(y%4!==0)throw new Error("arx: invalid block position");for(let w=0,b;w<Ba;w++)b=p+w,v[b]=f[b]^d[w];y+=pr;continue}for(let p=0,w;p<g;p++)w=y+p,o[w]=s[w]^l[p];y+=g}}function La(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:o,rounds:a}=Ia({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return $r(s),$r(a),Pn(o),Pn(r),(i,c,l,d,u=0)=>{Pe(i),Pe(c),Pe(l);const f=l.length;if(d===void 0&&(d=new Uint8Array(f)),Pe(d),$r(u),u<0||u>=Cs)throw new Error("arx: counter overflow");if(d.length<f)throw new Error(`arx: output (${d.length}) is shorter than data (${f})`);const v=[];let y=i.length,g,p;if(y===32)v.push(g=en(i)),p=Pa;else if(y===16&&r)g=new Uint8Array(32),g.set(i),g.set(i,16),p=xa,v.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${y}`);tn(c)||v.push(c=en(c));const w=nt(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(p,w,nt(c.subarray(0,16)),w),c=c.subarray(16)}const b=16-s;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const U=new Uint8Array(12);U.set(c,o?0:12-c.length),c=U,v.push(c)}const k=nt(c);return Ra(e,p,w,k,l,d,u,a),Ut(...v),d}}const ye=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class Da{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=Xr(t),Pe(t,32);const r=ye(t,0),n=ye(t,2),s=ye(t,4),o=ye(t,6),a=ye(t,8),i=ye(t,10),c=ye(t,12),l=ye(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|o<<9)&8191,this.r[4]=(o>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|i<<2)&8191,this.r[7]=(i>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=ye(t,16+2*d)}process(t,r,n=!1){const s=n?0:2048,{h:o,r:a}=this,i=a[0],c=a[1],l=a[2],d=a[3],u=a[4],f=a[5],v=a[6],y=a[7],g=a[8],p=a[9],w=ye(t,r+0),b=ye(t,r+2),k=ye(t,r+4),U=ye(t,r+6),L=ye(t,r+8),O=ye(t,r+10),S=ye(t,r+12),E=ye(t,r+14);let m=o[0]+(w&8191),N=o[1]+((w>>>13|b<<3)&8191),_=o[2]+((b>>>10|k<<6)&8191),B=o[3]+((k>>>7|U<<9)&8191),M=o[4]+((U>>>4|L<<12)&8191),A=o[5]+(L>>>1&8191),C=o[6]+((L>>>14|O<<2)&8191),I=o[7]+((O>>>11|S<<5)&8191),P=o[8]+((S>>>8|E<<8)&8191),R=o[9]+(E>>>5|s),T=0,z=T+m*i+N*(5*p)+_*(5*g)+B*(5*y)+M*(5*v);T=z>>>13,z&=8191,z+=A*(5*f)+C*(5*u)+I*(5*d)+P*(5*l)+R*(5*c),T+=z>>>13,z&=8191;let V=T+m*c+N*i+_*(5*p)+B*(5*g)+M*(5*y);T=V>>>13,V&=8191,V+=A*(5*v)+C*(5*f)+I*(5*u)+P*(5*d)+R*(5*l),T+=V>>>13,V&=8191;let K=T+m*l+N*c+_*i+B*(5*p)+M*(5*g);T=K>>>13,K&=8191,K+=A*(5*y)+C*(5*v)+I*(5*f)+P*(5*u)+R*(5*d),T+=K>>>13,K&=8191;let de=T+m*d+N*l+_*c+B*i+M*(5*p);T=de>>>13,de&=8191,de+=A*(5*g)+C*(5*y)+I*(5*v)+P*(5*f)+R*(5*u),T+=de>>>13,de&=8191;let pe=T+m*u+N*d+_*l+B*c+M*i;T=pe>>>13,pe&=8191,pe+=A*(5*p)+C*(5*g)+I*(5*y)+P*(5*v)+R*(5*f),T+=pe>>>13,pe&=8191;let Ee=T+m*f+N*u+_*d+B*l+M*c;T=Ee>>>13,Ee&=8191,Ee+=A*i+C*(5*p)+I*(5*g)+P*(5*y)+R*(5*v),T+=Ee>>>13,Ee&=8191;let Ae=T+m*v+N*f+_*u+B*d+M*l;T=Ae>>>13,Ae&=8191,Ae+=A*c+C*i+I*(5*p)+P*(5*g)+R*(5*y),T+=Ae>>>13,Ae&=8191;let We=T+m*y+N*v+_*f+B*u+M*d;T=We>>>13,We&=8191,We+=A*l+C*c+I*i+P*(5*p)+R*(5*g),T+=We>>>13,We&=8191;let Ne=T+m*g+N*y+_*v+B*f+M*u;T=Ne>>>13,Ne&=8191,Ne+=A*d+C*l+I*c+P*i+R*(5*p),T+=Ne>>>13,Ne&=8191;let Ue=T+m*p+N*g+_*y+B*v+M*f;T=Ue>>>13,Ue&=8191,Ue+=A*u+C*d+I*l+P*c+R*i,T+=Ue>>>13,Ue&=8191,T=(T<<2)+T|0,T=T+z|0,z=T&8191,T=T>>>13,V+=T,o[0]=z,o[1]=V,o[2]=K,o[3]=de,o[4]=pe,o[5]=Ee,o[6]=Ae,o[7]=We,o[8]=Ne,o[9]=Ue}finalize(){const{h:t,pad:r}=this,n=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let i=2;i<10;i++)t[i]+=s,s=t[i]>>>13,t[i]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,n[0]=t[0]+5,s=n[0]>>>13,n[0]&=8191;for(let i=1;i<10;i++)n[i]=t[i]+s,s=n[i]>>>13,n[i]&=8191;n[9]-=8192;let o=(s^1)-1;for(let i=0;i<10;i++)n[i]&=o;o=~o;for(let i=0;i<10;i++)t[i]=t[i]&o|n[i];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let a=t[0]+r[0];t[0]=a&65535;for(let i=1;i<8;i++)a=(t[i]+r[i]|0)+(a>>>16)|0,t[i]=a&65535;Ut(n)}update(t){xn(this);const{buffer:r,blockLen:n}=this;t=Xr(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){for(;n<=s-o;o+=n)this.process(t,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Ut(this.h,this.r,this.buffer,this.pad)}digestInto(t){xn(this),va(t,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let a=0;a<8;a++)t[o++]=n[a]>>>0,t[o++]=n[a]>>>8;return t}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}}function $a(e){const t=(n,s)=>e(s).update(Xr(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const Ma=$a(e=>new Da(e));function Fa(e,t,r,n,s,o=20){let a=e[0],i=e[1],c=e[2],l=e[3],d=t[0],u=t[1],f=t[2],v=t[3],y=t[4],g=t[5],p=t[6],w=t[7],b=s,k=r[0],U=r[1],L=r[2],O=a,S=i,E=c,m=l,N=d,_=u,B=f,M=v,A=y,C=g,I=p,P=w,R=b,T=k,z=U,V=L;for(let de=0;de<o;de+=2)O=O+N|0,R=ee(R^O,16),A=A+R|0,N=ee(N^A,12),O=O+N|0,R=ee(R^O,8),A=A+R|0,N=ee(N^A,7),S=S+_|0,T=ee(T^S,16),C=C+T|0,_=ee(_^C,12),S=S+_|0,T=ee(T^S,8),C=C+T|0,_=ee(_^C,7),E=E+B|0,z=ee(z^E,16),I=I+z|0,B=ee(B^I,12),E=E+B|0,z=ee(z^E,8),I=I+z|0,B=ee(B^I,7),m=m+M|0,V=ee(V^m,16),P=P+V|0,M=ee(M^P,12),m=m+M|0,V=ee(V^m,8),P=P+V|0,M=ee(M^P,7),O=O+_|0,V=ee(V^O,16),I=I+V|0,_=ee(_^I,12),O=O+_|0,V=ee(V^O,8),I=I+V|0,_=ee(_^I,7),S=S+B|0,R=ee(R^S,16),P=P+R|0,B=ee(B^P,12),S=S+B|0,R=ee(R^S,8),P=P+R|0,B=ee(B^P,7),E=E+M|0,T=ee(T^E,16),A=A+T|0,M=ee(M^A,12),E=E+M|0,T=ee(T^E,8),A=A+T|0,M=ee(M^A,7),m=m+N|0,z=ee(z^m,16),C=C+z|0,N=ee(N^C,12),m=m+N|0,z=ee(z^m,8),C=C+z|0,N=ee(N^C,7);let K=0;n[K++]=a+O|0,n[K++]=i+S|0,n[K++]=c+E|0,n[K++]=l+m|0,n[K++]=d+N|0,n[K++]=u+_|0,n[K++]=f+B|0,n[K++]=v+M|0,n[K++]=y+A|0,n[K++]=g+C|0,n[K++]=p+I|0,n[K++]=w+P|0,n[K++]=b+R|0,n[K++]=k+T|0,n[K++]=U+z|0,n[K++]=L+V|0}const Wa=La(Fa,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ja=new Uint8Array(16),Dn=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(ja.subarray(r))},Ha=new Uint8Array(32);function $n(e,t,r,n,s){const o=e(t,r,Ha),a=Ma.create(o);s&&Dn(a,s),Dn(a,n);const i=new Uint8Array(16),c=Ca(i);Rn(c,0,BigInt(s?s.length:0),!0),Rn(c,8,BigInt(n.length),!0),a.update(i);const l=a.digest();return Ut(o,i),l}const qa=e=>(t,r,n)=>({encrypt(s,o){const a=s.length;o=Bn(a+16,o,!1),o.set(s);const i=o.subarray(0,-16);e(t,r,i,i,1);const c=$n(e,t,r,i,n);return o.set(c,a),Ut(c),o},decrypt(s,o){o=Bn(s.length-16,o,!1);const a=s.subarray(0,-16),i=s.subarray(-16),c=$n(e,t,r,a,n);if(!Sa(i,c))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),e(t,r,o,o,1),Ut(c),o}});_a({blockSize:64,nonceLength:12,tagLength:16},qa(Wa));let Ns=class extends dn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ta(e);const r=Cr(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Tt(this),this.iHash.update(e),this}digestInto(e){Tt(this),sr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ks=(e,t,r)=>new Ns(e,t).update(r).digest();ks.create=(e,t)=>new Ns(e,t);function Va(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),i=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,i,n)}function za(e,t,r){return e&t^~e&r}function Ka(e,t,r){return e&t^e&r^t&r}let Ya=class extends dn{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Dr(this.buffer)}update(e){Tt(this);const{view:t,buffer:r,blockLen:n}=this;e=Cr(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const i=Dr(e);for(;n<=s-o;o+=n)this.process(i,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tt(this),fs(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let d=o;d<n;d++)t[d]=0;Va(r,n-8,BigInt(this.length*8),s),this.process(r,0);const a=Dr(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(r),e}};const Ga=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),et=new Uint32Array(64);class Ja extends Ya{constructor(){super(64,32,8,!1),this.A=Xe[0]|0,this.B=Xe[1]|0,this.C=Xe[2]|0,this.D=Xe[3]|0,this.E=Xe[4]|0,this.F=Xe[5]|0,this.G=Xe[6]|0,this.H=Xe[7]|0}get(){const{A:t,B:r,C:n,D:s,E:o,F:a,G:i,H:c}=this;return[t,r,n,s,o,a,i,c]}set(t,r,n,s,o,a,i,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=c|0}process(t,r){for(let u=0;u<16;u++,r+=4)et[u]=t.getUint32(r,!1);for(let u=16;u<64;u++){const f=et[u-15],v=et[u-2],y=je(f,7)^je(f,18)^f>>>3,g=je(v,17)^je(v,19)^v>>>10;et[u]=g+et[u-7]+y+et[u-16]|0}let{A:n,B:s,C:o,D:a,E:i,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){const f=je(i,6)^je(i,11)^je(i,25),v=d+f+za(i,c,l)+Ga[u]+et[u]|0,y=(je(n,2)^je(n,13)^je(n,22))+Ka(n,s,o)|0;d=l,l=c,c=i,i=a+v|0,a=o,o=s,s=n,n=v+y|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(n,s,o,a,i,c,l,d)}roundClean(){et.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Za=ms(()=>new Ja);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nr=BigInt(0),kr=BigInt(1),Qa=BigInt(2);function gt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function or(e){if(!gt(e))throw new Error("Uint8Array expected")}function Ot(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const Xa=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xt(e){or(e);let t="";for(let r=0;r<e.length;r++)t+=Xa[e[r]];return t}function kt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function un(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Nr:BigInt("0x"+e)}const Ke={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mn(e){if(e>=Ke._0&&e<=Ke._9)return e-Ke._0;if(e>=Ke.A&&e<=Ke.F)return e-(Ke.A-10);if(e>=Ke.a&&e<=Ke.f)return e-(Ke.a-10)}function Pt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){const a=Mn(e.charCodeAt(o)),i=Mn(e.charCodeAt(o+1));if(a===void 0||i===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=a*16+i}return n}function ht(e){return un(xt(e))}function Zt(e){return or(e),un(xt(Uint8Array.from(e).reverse()))}function Bt(e,t){return Pt(e.toString(16).padStart(t*2,"0"))}function Ir(e,t){return Bt(e,t).reverse()}function ei(e){return Pt(kt(e))}function xe(e,t,r){let n;if(typeof t=="string")try{n=Pt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(gt(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function Qt(...e){let t=0;for(let n=0;n<e.length;n++){const s=e[n];or(s),t+=s.length}const r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){const o=e[n];r.set(o,s),s+=o.length}return r}function ti(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function ri(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const Mr=e=>typeof e=="bigint"&&Nr<=e;function Sr(e,t,r){return Mr(e)&&Mr(t)&&Mr(r)&&t<=e&&e<r}function Je(e,t,r,n){if(!Sr(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Is(e){let t;for(t=0;e>Nr;e>>=kr,t+=1);return t}function ni(e,t){return e>>BigInt(t)&kr}function si(e,t,r){return e|(r?kr:Nr)<<BigInt(t)}const pn=e=>(Qa<<BigInt(e-1))-kr,Fr=e=>new Uint8Array(e),Fn=e=>Uint8Array.from(e);function Ss(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Fr(e),s=Fr(e),o=0;const a=()=>{n.fill(1),s.fill(0),o=0},i=(...d)=>r(s,n,...d),c=(d=Fr())=>{s=i(Fn([0]),d),n=i(),d.length!==0&&(s=i(Fn([1]),d),n=i())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const u=[];for(;d<t;){n=i();const f=n.slice();u.push(f),d+=n.length}return Qt(...u)};return(d,u)=>{a(),c(d);let f;for(;!(f=u(l()));)c();return a(),f}}const oi={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||gt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Dt(e,t,r={}){const n=(s,o,a)=>{const i=oi[o];if(typeof i!="function")throw new Error("invalid validator function");const c=e[s];if(!(a&&c===void 0)&&!i(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))n(s,o,!1);for(const[s,o]of Object.entries(r))n(s,o,!0);return e}const ai=()=>{throw new Error("not implemented")};function rn(e){const t=new WeakMap;return(r,...n)=>{const s=t.get(r);if(s!==void 0)return s;const o=e(r,...n);return t.set(r,o),o}}var ii=Object.freeze({__proto__:null,isBytes:gt,abytes:or,abool:Ot,bytesToHex:xt,numberToHexUnpadded:kt,hexToNumber:un,hexToBytes:Pt,bytesToNumberBE:ht,bytesToNumberLE:Zt,numberToBytesBE:Bt,numberToBytesLE:Ir,numberToVarBytesBE:ei,ensureBytes:xe,concatBytes:Qt,equalBytes:ti,utf8ToBytes:ri,inRange:Sr,aInRange:Je,bitLen:Is,bitGet:ni,bitSet:si,bitMask:pn,createHmacDrbg:Ss,validateObject:Dt,notImplemented:ai,memoized:rn});const we=BigInt(0),he=BigInt(1),ut=BigInt(2),ci=BigInt(3),nn=BigInt(4),Wn=BigInt(5),jn=BigInt(8);function _e(e,t){const r=e%t;return r>=we?r:t+r}function _s(e,t,r){if(t<we)throw new Error("invalid exponent, negatives unsupported");if(r<=we)throw new Error("invalid modulus");if(r===he)return we;let n=he;for(;t>we;)t&he&&(n=n*e%r),e=e*e%r,t>>=he;return n}function Me(e,t,r){let n=e;for(;t-- >we;)n*=n,n%=r;return n}function sn(e,t){if(e===we)throw new Error("invert: expected non-zero number");if(t<=we)throw new Error("invert: expected positive modulus, got "+t);let r=_e(e,t),n=t,s=we,o=he;for(;r!==we;){const a=n/r,i=n%r,c=s-o*a;n=r,r=i,s=o,o=c}if(n!==he)throw new Error("invert: does not exist");return _e(s,t)}function li(e){const t=(e-he)/ut;let r,n,s;for(r=e-he,n=0;r%ut===we;r/=ut,n++);for(s=ut;s<e&&_s(s,t,e)!==e-he;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(e+he)/nn;return function(i,c){const l=i.pow(c,a);if(!i.eql(i.sqr(l),c))throw new Error("Cannot find square root");return l}}const o=(r+he)/ut;return function(a,i){if(a.pow(i,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,l=a.pow(a.mul(a.ONE,s),r),d=a.pow(i,o),u=a.pow(i,r);for(;!a.eql(u,a.ONE);){if(a.eql(u,a.ZERO))return a.ZERO;let f=1;for(let y=a.sqr(u);f<c&&!a.eql(y,a.ONE);f++)y=a.sqr(y);const v=a.pow(l,he<<BigInt(c-f-1));l=a.sqr(v),d=a.mul(d,v),u=a.mul(u,l),c=f}return d}}function di(e){if(e%nn===ci){const t=(e+he)/nn;return function(r,n){const s=r.pow(n,t);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(e%jn===Wn){const t=(e-Wn)/jn;return function(r,n){const s=r.mul(n,ut),o=r.pow(s,t),a=r.mul(n,o),i=r.mul(r.mul(a,ut),o),c=r.mul(a,r.sub(i,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return li(e)}const ui=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pi(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ui.reduce((n,s)=>(n[s]="function",n),t);return Dt(e,r)}function hi(e,t,r){if(r<we)throw new Error("invalid exponent, negatives unsupported");if(r===we)return e.ONE;if(r===he)return t;let n=e.ONE,s=t;for(;r>we;)r&he&&(n=e.mul(n,s)),s=e.sqr(s),r>>=he;return n}function fi(e,t){const r=new Array(t.length),n=t.reduce((o,a,i)=>e.is0(a)?o:(r[i]=o,e.mul(o,a)),e.ONE),s=e.inv(n);return t.reduceRight((o,a,i)=>e.is0(a)?o:(r[i]=e.mul(o,r[i]),e.mul(o,a)),s),r}function Ts(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Us(e,t,r=!1,n={}){if(e<=we)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Ts(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const i=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:pn(s),ZERO:we,ONE:he,create:c=>_e(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return we<=c&&c<e},is0:c=>c===we,isOdd:c=>(c&he)===he,neg:c=>_e(-c,e),eql:(c,l)=>c===l,sqr:c=>_e(c*c,e),add:(c,l)=>_e(c+l,e),sub:(c,l)=>_e(c-l,e),mul:(c,l)=>_e(c*l,e),pow:(c,l)=>hi(i,c,l),div:(c,l)=>_e(c*sn(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>sn(c,e),sqrt:n.sqrt||(c=>(a||(a=di(e)),a(i,c))),invertBatch:c=>fi(i,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>r?Ir(c,o):Bt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?Zt(c):ht(c)}});return Object.freeze(i)}function Os(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xs(e){const t=Os(e);return t+Math.ceil(t/2)}function mi(e,t,r=!1){const n=e.length,s=Os(t),o=xs(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const a=r?Zt(e):ht(e),i=_e(a,t-he)+he;return r?Ir(i,s):Bt(i,s)}const Hn=BigInt(0),hr=BigInt(1);function Wr(e,t){const r=t.negate();return e?r:t}function Ps(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function jr(e,t){Ps(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function gi(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function wi(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Hr=new WeakMap,Bs=new WeakMap;function qr(e){return Bs.get(e)||1}function yi(e,t){return{constTimeNegate:Wr,hasPrecomputes(r){return qr(r)!==1},unsafeLadder(r,n,s=e.ZERO){let o=r;for(;n>Hn;)n&hr&&(s=s.add(o)),o=o.double(),n>>=hr;return s},precomputeWindow(r,n){const{windows:s,windowSize:o}=jr(n,t),a=[];let i=r,c=i;for(let l=0;l<s;l++){c=i,a.push(c);for(let d=1;d<o;d++)c=c.add(i),a.push(c);i=c.double()}return a},wNAF(r,n,s){const{windows:o,windowSize:a}=jr(r,t);let i=e.ZERO,c=e.BASE;const l=BigInt(2**r-1),d=2**r,u=BigInt(r);for(let f=0;f<o;f++){const v=f*a;let y=Number(s&l);s>>=u,y>a&&(y-=d,s+=hr);const g=v,p=v+Math.abs(y)-1,w=f%2!==0,b=y<0;y===0?c=c.add(Wr(w,n[g])):i=i.add(Wr(b,n[p]))}return{p:i,f:c}},wNAFUnsafe(r,n,s,o=e.ZERO){const{windows:a,windowSize:i}=jr(r,t),c=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let u=0;u<a;u++){const f=u*i;if(s===Hn)break;let v=Number(s&c);if(s>>=d,v>i&&(v-=l,s+=hr),v===0)continue;let y=n[f+Math.abs(v)-1];v<0&&(y=y.negate()),o=o.add(y)}return o},getPrecomputes(r,n,s){let o=Hr.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&Hr.set(n,s(o))),o},wNAFCached(r,n,s){const o=qr(r);return this.wNAF(o,this.getPrecomputes(o,r,s),n)},wNAFCachedUnsafe(r,n,s,o){const a=qr(r);return a===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(a,this.getPrecomputes(a,r,s),n,o)},setWindowSize(r,n){Ps(n,t),Bs.set(r,n),Hr.delete(r)}}}function bi(e,t,r,n){if(gi(r,e),wi(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=Is(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,i=(1<<a)-1,c=new Array(i+1).fill(s),l=Math.floor((t.BITS-1)/a)*a;let d=s;for(let u=l;u>=0;u-=a){c.fill(s);for(let v=0;v<n.length;v++){const y=n[v],g=Number(y>>BigInt(u)&BigInt(i));c[g]=c[g].add(r[v])}let f=s;for(let v=c.length-1,y=s;v>0;v--)y=y.add(c[v]),f=f.add(y);if(d=d.add(f),u!==0)for(let v=0;v<a;v++)d=d.double()}return d}function Rs(e){return pi(e.Fp),Dt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ts(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ct=BigInt(0),Vr=BigInt(1);function Ei(e){return Dt(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function Ai(e){const t=Ei(e),{P:r}=t,n=b=>_e(b,r),s=t.montgomeryBits,o=Math.ceil(s/8),a=t.nByteLength,i=t.adjustScalarBytes||(b=>b),c=t.powPminus2||(b=>_s(b,r-BigInt(2),r));function l(b,k,U){const L=n(b*(k-U));return k=n(k-L),U=n(U+L),[k,U]}const d=(t.a-BigInt(2))/BigInt(4);function u(b,k){Je("u",b,Ct,r),Je("scalar",k,Ct,r);const U=k,L=b;let O=Vr,S=Ct,E=b,m=Vr,N=Ct,_;for(let M=BigInt(s-1);M>=Ct;M--){const A=U>>M&Vr;N^=A,_=l(N,O,E),O=_[0],E=_[1],_=l(N,S,m),S=_[0],m=_[1],N=A;const C=O+S,I=n(C*C),P=O-S,R=n(P*P),T=I-R,z=E+m,V=E-m,K=n(V*C),de=n(z*P),pe=K+de,Ee=K-de;E=n(pe*pe),m=n(L*n(Ee*Ee)),O=n(I*R),S=n(T*(I+n(d*T)))}_=l(N,O,E),O=_[0],E=_[1],_=l(N,S,m),S=_[0],m=_[1];const B=c(S);return n(O*B)}function f(b){return Ir(n(b),o)}function v(b){const k=xe("u coordinate",b,o);return a===32&&(k[31]&=127),Zt(k)}function y(b){const k=xe("scalar",b),U=k.length;if(U!==o&&U!==a){let L=""+o+" or "+a;throw new Error("invalid scalar, expected "+L+" bytes, got "+U)}return Zt(i(k))}function g(b,k){const U=v(k),L=y(b),O=u(U,L);if(O===Ct)throw new Error("invalid private or public key received");return f(O)}const p=f(t.Gu);function w(b){return g(b,p)}return{scalarMult:g,scalarMultBase:w,getSharedSecret:(b,k)=>g(b,k),getPublicKey:b=>w(b),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:p}}const on=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const vi=BigInt(1),qn=BigInt(2),Ci=BigInt(3),Ni=BigInt(5);BigInt(8);function ki(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=on,a=e*e%o*e%o,i=Me(a,qn,o)*a%o,c=Me(i,vi,o)*e%o,l=Me(c,Ni,o)*c%o,d=Me(l,t,o)*l%o,u=Me(d,r,o)*d%o,f=Me(u,n,o)*u%o,v=Me(f,s,o)*f%o,y=Me(v,s,o)*f%o,g=Me(y,t,o)*l%o;return{pow_p_5_8:Me(g,qn,o)*e%o,b2:a}}function Ii(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}Ai({P:on,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=on,{pow_p_5_8:r,b2:n}=ki(e);return _e(Me(r,Ci,t)*n,t)},adjustScalarBytes:Ii,randomBytes:gs});function Vn(e){e.lowS!==void 0&&Ot("lowS",e.lowS),e.prehash!==void 0&&Ot("prehash",e.prehash)}function Si(e){const t=Rs(e);Dt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:_i,hexToBytes:Ti}=ii;class Ui extends Error{constructor(t=""){super(t)}}const Ye={Err:Ui,_tlv:{encode:(e,t)=>{const{Err:r}=Ye;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,s=kt(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?kt(s.length/2|128):"";return kt(e)+o+s+t},decode(e,t){const{Err:r}=Ye;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const s=t[n++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of l)a=a<<8|d;if(n+=c,a<128)throw new r("tlv.decode(long): not minimal encoding")}const i=t.subarray(n,n+a);if(i.length!==a)throw new r("tlv.decode: wrong value length");return{v:i,l:t.subarray(n+a)}}},_int:{encode(e){const{Err:t}=Ye;if(e<Ge)throw new t("integer: negative integers are not allowed");let r=kt(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Ye;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return _i(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Ye,s=typeof e=="string"?Ti(e):e;or(s);const{v:o,l:a}=n.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=n.decode(2,o),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(i),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=Ye,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}},Ge=BigInt(0),me=BigInt(1);BigInt(2);const zn=BigInt(3);BigInt(4);function Oi(e){const t=Si(e),{Fp:r}=t,n=Us(t.n,t.nBitLength),s=t.toBytes||((g,p,w)=>{const b=p.toAffine();return Qt(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),o=t.fromBytes||(g=>{const p=g.subarray(1),w=r.fromBytes(p.subarray(0,r.BYTES)),b=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:w,y:b}});function a(g){const{a:p,b:w}=t,b=r.sqr(g),k=r.mul(b,g);return r.add(r.add(k,r.mul(g,p)),w)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(g){return Sr(g,me,t.n)}function c(g){const{allowedPrivateKeyLengths:p,nByteLength:w,wrapPrivateKey:b,n:k}=t;if(p&&typeof g!="bigint"){if(gt(g)&&(g=xt(g)),typeof g!="string"||!p.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let U;try{U=typeof g=="bigint"?g:ht(xe("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return b&&(U=_e(U,k)),Je("private key",U,me,k),U}function l(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}const d=rn((g,p)=>{const{px:w,py:b,pz:k}=g;if(r.eql(k,r.ONE))return{x:w,y:b};const U=g.is0();p==null&&(p=U?r.ONE:r.inv(k));const L=r.mul(w,p),O=r.mul(b,p),S=r.mul(k,p);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:L,y:O}}),u=rn(g=>{if(g.is0()){if(t.allowInfinityPoint&&!r.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:p,y:w}=g.toAffine();if(!r.isValid(p)||!r.isValid(w))throw new Error("bad point: x or y not FE");const b=r.sqr(w),k=a(p);if(!r.eql(b,k))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(p,w,b){if(this.px=p,this.py=w,this.pz=b,p==null||!r.isValid(p))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x:w,y:b}=p||{};if(!p||!r.isValid(w)||!r.isValid(b))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");const k=U=>r.eql(U,r.ZERO);return k(w)&&k(b)?f.ZERO:new f(w,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const w=r.invertBatch(p.map(b=>b.pz));return p.map((b,k)=>b.toAffine(w[k])).map(f.fromAffine)}static fromHex(p){const w=f.fromAffine(o(xe("pointHex",p)));return w.assertValidity(),w}static fromPrivateKey(p){return f.BASE.multiply(c(p))}static msm(p,w){return bi(f,n,p,w)}_setWindowSize(p){y.setWindowSize(this,p)}assertValidity(){u(this)}hasEvenY(){const{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){l(p);const{px:w,py:b,pz:k}=this,{px:U,py:L,pz:O}=p,S=r.eql(r.mul(w,O),r.mul(U,k)),E=r.eql(r.mul(b,O),r.mul(L,k));return S&&E}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:p,b:w}=t,b=r.mul(w,zn),{px:k,py:U,pz:L}=this;let O=r.ZERO,S=r.ZERO,E=r.ZERO,m=r.mul(k,k),N=r.mul(U,U),_=r.mul(L,L),B=r.mul(k,U);return B=r.add(B,B),E=r.mul(k,L),E=r.add(E,E),O=r.mul(p,E),S=r.mul(b,_),S=r.add(O,S),O=r.sub(N,S),S=r.add(N,S),S=r.mul(O,S),O=r.mul(B,O),E=r.mul(b,E),_=r.mul(p,_),B=r.sub(m,_),B=r.mul(p,B),B=r.add(B,E),E=r.add(m,m),m=r.add(E,m),m=r.add(m,_),m=r.mul(m,B),S=r.add(S,m),_=r.mul(U,L),_=r.add(_,_),m=r.mul(_,B),O=r.sub(O,m),E=r.mul(_,N),E=r.add(E,E),E=r.add(E,E),new f(O,S,E)}add(p){l(p);const{px:w,py:b,pz:k}=this,{px:U,py:L,pz:O}=p;let S=r.ZERO,E=r.ZERO,m=r.ZERO;const N=t.a,_=r.mul(t.b,zn);let B=r.mul(w,U),M=r.mul(b,L),A=r.mul(k,O),C=r.add(w,b),I=r.add(U,L);C=r.mul(C,I),I=r.add(B,M),C=r.sub(C,I),I=r.add(w,k);let P=r.add(U,O);return I=r.mul(I,P),P=r.add(B,A),I=r.sub(I,P),P=r.add(b,k),S=r.add(L,O),P=r.mul(P,S),S=r.add(M,A),P=r.sub(P,S),m=r.mul(N,I),S=r.mul(_,A),m=r.add(S,m),S=r.sub(M,m),m=r.add(M,m),E=r.mul(S,m),M=r.add(B,B),M=r.add(M,B),A=r.mul(N,A),I=r.mul(_,I),M=r.add(M,A),A=r.sub(B,A),A=r.mul(N,A),I=r.add(I,A),B=r.mul(M,I),E=r.add(E,B),B=r.mul(P,I),S=r.mul(C,S),S=r.sub(S,B),B=r.mul(C,M),m=r.mul(P,m),m=r.add(m,B),new f(S,E,m)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return y.wNAFCached(this,p,f.normalizeZ)}multiplyUnsafe(p){const{endo:w,n:b}=t;Je("scalar",p,Ge,b);const k=f.ZERO;if(p===Ge)return k;if(this.is0()||p===me)return this;if(!w||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,p,f.normalizeZ);let{k1neg:U,k1:L,k2neg:O,k2:S}=w.splitScalar(p),E=k,m=k,N=this;for(;L>Ge||S>Ge;)L&me&&(E=E.add(N)),S&me&&(m=m.add(N)),N=N.double(),L>>=me,S>>=me;return U&&(E=E.negate()),O&&(m=m.negate()),m=new f(r.mul(m.px,w.beta),m.py,m.pz),E.add(m)}multiply(p){const{endo:w,n:b}=t;Je("scalar",p,me,b);let k,U;if(w){const{k1neg:L,k1:O,k2neg:S,k2:E}=w.splitScalar(p);let{p:m,f:N}=this.wNAF(O),{p:_,f:B}=this.wNAF(E);m=y.constTimeNegate(L,m),_=y.constTimeNegate(S,_),_=new f(r.mul(_.px,w.beta),_.py,_.pz),k=m.add(_),U=N.add(B)}else{const{p:L,f:O}=this.wNAF(p);k=L,U=O}return f.normalizeZ([k,U])[0]}multiplyAndAddUnsafe(p,w,b){const k=f.BASE,U=(O,S)=>S===Ge||S===me||!O.equals(k)?O.multiplyUnsafe(S):O.multiply(S),L=U(this,w).add(U(p,b));return L.is0()?void 0:L}toAffine(p){return d(this,p)}isTorsionFree(){const{h:p,isTorsionFree:w}=t;if(p===me)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:w}=t;return p===me?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return Ot("isCompressed",p),this.assertValidity(),s(f,this,p)}toHex(p=!0){return Ot("isCompressed",p),xt(this.toRawBytes(p))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const v=t.nBitLength,y=yi(f,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}function xi(e){const t=Rs(e);return Dt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Pi(e){const t=xi(e),{Fp:r,n}=t,s=r.BYTES+1,o=2*r.BYTES+1;function a(A){return _e(A,n)}function i(A){return sn(A,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:u}=Oi({...t,toBytes(A,C,I){const P=C.toAffine(),R=r.toBytes(P.x),T=Qt;return Ot("isCompressed",I),I?T(Uint8Array.from([C.hasEvenY()?2:3]),R):T(Uint8Array.from([4]),R,r.toBytes(P.y))},fromBytes(A){const C=A.length,I=A[0],P=A.subarray(1);if(C===s&&(I===2||I===3)){const R=ht(P);if(!Sr(R,me,r.ORDER))throw new Error("Point is not on curve");const T=d(R);let z;try{z=r.sqrt(T)}catch(K){const de=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+de)}const V=(z&me)===me;return(I&1)===1!==V&&(z=r.neg(z)),{x:R,y:z}}else if(C===o&&I===4){const R=r.fromBytes(P.subarray(0,r.BYTES)),T=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:R,y:T}}else{const R=s,T=o;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+T+", got "+C)}}}),f=A=>xt(Bt(A,t.nByteLength));function v(A){const C=n>>me;return A>C}function y(A){return v(A)?a(-A):A}const g=(A,C,I)=>ht(A.slice(C,I));class p{constructor(C,I,P){this.r=C,this.s=I,this.recovery=P,this.assertValidity()}static fromCompact(C){const I=t.nByteLength;return C=xe("compactSignature",C,I*2),new p(g(C,0,I),g(C,I,2*I))}static fromDER(C){const{r:I,s:P}=Ye.toSig(xe("DER",C));return new p(I,P)}assertValidity(){Je("r",this.r,me,n),Je("s",this.s,me,n)}addRecoveryBit(C){return new p(this.r,this.s,C)}recoverPublicKey(C){const{r:I,s:P,recovery:R}=this,T=O(xe("msgHash",C));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const z=R===2||R===3?I+t.n:I;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=R&1?"03":"02",K=c.fromHex(V+f(z)),de=i(z),pe=a(-T*de),Ee=a(P*de),Ae=c.BASE.multiplyAndAddUnsafe(K,pe,Ee);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Pt(this.toDERHex())}toDERHex(){return Ye.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pt(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(A){try{return l(A),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const A=xs(t.n);return mi(t.randomBytes(A),t.n)},precompute(A=8,C=c.BASE){return C._setWindowSize(A),C.multiply(BigInt(3)),C}};function b(A,C=!0){return c.fromPrivateKey(A).toRawBytes(C)}function k(A){const C=gt(A),I=typeof A=="string",P=(C||I)&&A.length;return C?P===s||P===o:I?P===2*s||P===2*o:A instanceof c}function U(A,C,I=!0){if(k(A))throw new Error("first arg must be private key");if(!k(C))throw new Error("second arg must be public key");return c.fromHex(C).multiply(l(A)).toRawBytes(I)}const L=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const C=ht(A),I=A.length*8-t.nBitLength;return I>0?C>>BigInt(I):C},O=t.bits2int_modN||function(A){return a(L(A))},S=pn(t.nBitLength);function E(A){return Je("num < 2^"+t.nBitLength,A,Ge,S),Bt(A,t.nByteLength)}function m(A,C,I=N){if(["recovered","canonical"].some(Ne=>Ne in I))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:R}=t;let{lowS:T,prehash:z,extraEntropy:V}=I;T==null&&(T=!0),A=xe("msgHash",A),Vn(I),z&&(A=xe("prehashed msgHash",P(A)));const K=O(A),de=l(C),pe=[E(de),E(K)];if(V!=null&&V!==!1){const Ne=V===!0?R(r.BYTES):V;pe.push(xe("extraEntropy",Ne))}const Ee=Qt(...pe),Ae=K;function We(Ne){const Ue=L(Ne);if(!u(Ue))return;const Ur=i(Ue),$t=c.BASE.multiply(Ue).toAffine(),at=a($t.x);if(at===Ge)return;const it=a(Ur*a(Ae+at*de));if(it===Ge)return;let Mt=($t.x===at?0:2)|Number($t.y&me),wn=it;return T&&v(it)&&(wn=y(it),Mt^=1),new p(at,wn,Mt)}return{seed:Ee,k2sig:We}}const N={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};function B(A,C,I=N){const{seed:P,k2sig:R}=m(A,C,I),T=t;return Ss(T.hash.outputLen,T.nByteLength,T.hmac)(P,R)}c.BASE._setWindowSize(8);function M(A,C,I,P=_){var it;const R=A;C=xe("msgHash",C),I=xe("publicKey",I);const{lowS:T,prehash:z,format:V}=P;if(Vn(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const K=typeof R=="string"||gt(R),de=!K&&!V&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!K&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let pe,Ee;try{if(de&&(pe=new p(R.r,R.s)),K){try{V!=="compact"&&(pe=p.fromDER(R))}catch(Mt){if(!(Mt instanceof Ye.Err))throw Mt}!pe&&V!=="der"&&(pe=p.fromCompact(R))}Ee=c.fromHex(I)}catch{return!1}if(!pe||T&&pe.hasHighS())return!1;z&&(C=t.hash(C));const{r:Ae,s:We}=pe,Ne=O(C),Ue=i(We),Ur=a(Ne*Ue),$t=a(Ae*Ue),at=(it=c.BASE.multiplyAndAddUnsafe(Ee,Ur,$t))==null?void 0:it.toAffine();return at?a(at.x)===Ae:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:U,sign:B,verify:M,ProjectivePoint:c,Signature:p,utils:w}}function Bi(e){return{hash:e,hmac:(t,...r)=>ks(e,t,ua(...r)),randomBytes:gs}}function Ri(e,t){const r=n=>Pi({...e,...Bi(n)});return{...r(t),create:r}}const Ls=Us(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Li=Ls.create(BigInt("-3")),Di=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");Ri({a:Li,b:Di,Fp:Ls,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Za);Z.ONE_DAY;Z.SIX_HOURS;Z.ONE_DAY,Z.ONE_DAY,Z.THIRTY_SECONDS,Z.THIRTY_SECONDS,Z.ONE_DAY,Z.ONE_DAY;function $i(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=s}var i=e.length,c=e.charAt(0),l=Math.log(i)/Math.log(256),d=Math.log(256)/Math.log(i);function u(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var g=0,p=0,w=0,b=y.length;w!==b&&y[w]===0;)w++,g++;for(var k=(b-w)*d+1>>>0,U=new Uint8Array(k);w!==b;){for(var L=y[w],O=0,S=k-1;(L!==0||O<p)&&S!==-1;S--,O++)L+=256*U[S]>>>0,U[S]=L%i>>>0,L=L/i>>>0;if(L!==0)throw new Error("Non-zero carry");p=O,w++}for(var E=k-p;E!==k&&U[E]===0;)E++;for(var m=c.repeat(g);E<k;++E)m+=e.charAt(U[E]);return m}function f(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var g=0;if(y[g]!==" "){for(var p=0,w=0;y[g]===c;)p++,g++;for(var b=(y.length-g)*l+1>>>0,k=new Uint8Array(b);y[g];){var U=r[y.charCodeAt(g)];if(U===255)return;for(var L=0,O=b-1;(U!==0||L<w)&&O!==-1;O--,L++)U+=i*k[O]>>>0,k[O]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");w=L,g++}if(y[g]!==" "){for(var S=b-w;S!==b&&k[S]===0;)S++;for(var E=new Uint8Array(p+(b-S)),m=p;S!==b;)E[m++]=k[S++];return E}}}function v(y){var g=f(y);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:f,decode:v}}var Mi=$i,Fi=Mi;const Ds=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Wi=e=>new TextEncoder().encode(e),ji=e=>new TextDecoder().decode(e);class Hi{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class qi{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return $s(this,t)}}class Vi{constructor(t){this.decoders=t}or(t){return $s(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const $s=(e,t)=>new Vi({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class zi{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Hi(t,r,n),this.decoder=new qi(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const _r=({name:e,prefix:t,encode:r,decode:n})=>new zi(e,t,r,n),ar=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:s}=Fi(r,t);return _r({prefix:e,name:t,encode:n,decode:o=>Ds(s(o))})},Ki=(e,t,r,n)=>{const s={};for(let d=0;d<t.length;++d)s[t[d]]=d;let o=e.length;for(;e[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let i=0,c=0,l=0;for(let d=0;d<o;++d){const u=s[e[d]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|u,i+=r,i>=8&&(i-=8,a[l++]=255&c>>i)}if(i>=r||255&c<<8-i)throw new SyntaxError("Unexpected end of data");return a},Yi=(e,t,r)=>{const n=t[t.length-1]==="=",s=(1<<r)-1;let o="",a=0,i=0;for(let c=0;c<e.length;++c)for(i=i<<8|e[c],a+=8;a>r;)a-=r,o+=t[s&i>>a];if(a&&(o+=t[s&i<<r-a]),n)for(;o.length*r&7;)o+="=";return o},be=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>_r({prefix:t,name:e,encode(s){return Yi(s,n,r)},decode(s){return Ki(s,n,r,e)}}),Gi=_r({prefix:"\0",name:"identity",encode:e=>ji(e),decode:e=>Wi(e)});var Ji=Object.freeze({__proto__:null,identity:Gi});const Zi=be({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Qi=Object.freeze({__proto__:null,base2:Zi});const Xi=be({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ec=Object.freeze({__proto__:null,base8:Xi});const tc=ar({prefix:"9",name:"base10",alphabet:"0123456789"});var rc=Object.freeze({__proto__:null,base10:tc});const nc=be({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sc=be({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var oc=Object.freeze({__proto__:null,base16:nc,base16upper:sc});const ac=be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ic=be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cc=be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lc=be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dc=be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uc=be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pc=be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hc=be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fc=be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var mc=Object.freeze({__proto__:null,base32:ac,base32upper:ic,base32pad:cc,base32padupper:lc,base32hex:dc,base32hexupper:uc,base32hexpad:pc,base32hexpadupper:hc,base32z:fc});const gc=ar({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wc=ar({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yc=Object.freeze({__proto__:null,base36:gc,base36upper:wc});const bc=ar({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ec=ar({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ac=Object.freeze({__proto__:null,base58btc:bc,base58flickr:Ec});const vc=be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cc=be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nc=be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kc=be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ic=Object.freeze({__proto__:null,base64:vc,base64pad:Cc,base64url:Nc,base64urlpad:kc});const Ms=Array.from(""),Sc=Ms.reduce((e,t,r)=>(e[r]=t,e),[]),_c=Ms.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Tc(e){return e.reduce((t,r)=>(t+=Sc[r],t),"")}function Uc(e){const t=[];for(const r of e){const n=_c[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Oc=_r({prefix:"",name:"base256emoji",encode:Tc,decode:Uc});var xc=Object.freeze({__proto__:null,base256emoji:Oc}),Pc=Fs,Kn=128,Bc=-128,Rc=Math.pow(2,31);function Fs(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Rc;)t[r++]=e&255|Kn,e/=128;for(;e&Bc;)t[r++]=e&255|Kn,e>>>=7;return t[r]=e|0,Fs.bytes=r-n+1,t}var Lc=an,Dc=128,Yn=127;function an(e,n){var r=0,n=n||0,s=0,o=n,a,i=e.length;do{if(o>=i)throw an.bytes=0,new RangeError("Could not decode varint");a=e[o++],r+=s<28?(a&Yn)<<s:(a&Yn)*Math.pow(2,s),s+=7}while(a>=Dc);return an.bytes=o-n,r}var $c=Math.pow(2,7),Mc=Math.pow(2,14),Fc=Math.pow(2,21),Wc=Math.pow(2,28),jc=Math.pow(2,35),Hc=Math.pow(2,42),qc=Math.pow(2,49),Vc=Math.pow(2,56),zc=Math.pow(2,63),Kc=function(e){return e<$c?1:e<Mc?2:e<Fc?3:e<Wc?4:e<jc?5:e<Hc?6:e<qc?7:e<Vc?8:e<zc?9:10},Yc={encode:Pc,decode:Lc,encodingLength:Kc},Ws=Yc;const Gn=(e,t,r=0)=>(Ws.encode(e,t,r),t),Jn=e=>Ws.encodingLength(e),cn=(e,t)=>{const r=t.byteLength,n=Jn(e),s=n+Jn(r),o=new Uint8Array(s+r);return Gn(e,o,0),Gn(r,o,n),o.set(t,s),new Gc(e,r,t,o)};class Gc{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}}const js=({name:e,code:t,encode:r})=>new Jc(e,t,r);class Jc{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?cn(this.code,r):r.then(n=>cn(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Hs=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Zc=js({name:"sha2-256",code:18,encode:Hs("SHA-256")}),Qc=js({name:"sha2-512",code:19,encode:Hs("SHA-512")});var Xc=Object.freeze({__proto__:null,sha256:Zc,sha512:Qc});const qs=0,el="identity",Vs=Ds,tl=e=>cn(qs,Vs(e)),rl={code:qs,name:el,encode:Vs,digest:tl};var nl=Object.freeze({__proto__:null,identity:rl});new TextEncoder,new TextDecoder;({...Ji,...Qi,...ec,...rc,...oc,...mc,...yc,...Ac,...Ic,...xc});({...Xc,...nl});Z.SEVEN_DAYS;Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.ONE_DAY,Z.ONE_DAY,Z.ONE_DAY,Z.ONE_DAY,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.FIVE_MINUTES,Z.ONE_DAY,Z.ONE_DAY,Z.ONE_DAY,Z.ONE_DAY,Z.ONE_HOUR,Z.ONE_HOUR,Z.FIVE_MINUTES,Z.FIVE_MINUTES;Z.FIVE_MINUTES,Z.SEVEN_DAYS;new AbortController;const Zn={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0};le({providers:{...Zn},providerIds:{...Zn}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mr=globalThis,hn=mr.ShadowRoot&&(mr.ShadyCSS===void 0||mr.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,fn=Symbol(),Qn=new WeakMap;let zs=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==fn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(hn&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=Qn.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Qn.set(t,e))}return e}toString(){return this.cssText}};const sl=e=>new zs(typeof e=="string"?e:e+"",void 0,fn),mn=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((n,s,o)=>n+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[o+1],e[0]);return new zs(r,e,fn)},ol=(e,t)=>{if(hn)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const n=document.createElement("style"),s=mr.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,e.appendChild(n)}},Xn=hn?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const n of t.cssRules)r+=n.cssText;return sl(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:al,defineProperty:il,getOwnPropertyDescriptor:cl,getOwnPropertyNames:ll,getOwnPropertySymbols:dl,getPrototypeOf:ul}=Object,st=globalThis,es=st.trustedTypes,pl=es?es.emptyScript:"",zr=st.reactiveElementPolyfillSupport,Yt=(e,t)=>e,ln={toAttribute(e,t){switch(t){case Boolean:e=e?pl:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},Ks=(e,t)=>!al(e,t),ts={attribute:!0,type:String,converter:ln,reflect:!1,useDefault:!1,hasChanged:Ks};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),st.litPropertyMetadata??(st.litPropertyMetadata=new WeakMap);let Nt=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=ts){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(e,r,t);n!==void 0&&il(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){const{get:n,set:s}=cl(this.prototype,e)??{get(){return this[t]},set(o){this[t]=o}};return{get:n,set(o){const a=n==null?void 0:n.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??ts}static _$Ei(){if(this.hasOwnProperty(Yt("elementProperties")))return;const e=ul(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Yt("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Yt("properties"))){const t=this.properties,r=[...ll(t),...dl(t)];for(const n of r)this.createProperty(n,t[n])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[r,n]of t)this.elementProperties.set(r,n)}this._$Eh=new Map;for(const[t,r]of this.elementProperties){const n=this._$Eu(t,r);n!==void 0&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const n of r)t.unshift(Xn(n))}else e!==void 0&&t.push(Xn(e));return t}static _$Eu(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ol(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostConnected)==null?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){var s;const r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(n!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:ln).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,t){var s,o;const r=this.constructor,n=r._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const a=r.getPropertyOptions(n),i=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:ln;this._$Em=n;const c=i.fromAttribute(t,a.type);this[n]=c??((o=this._$Ej)==null?void 0:o.get(n))??c,this._$Em=null}}requestUpdate(e,t,r){var n;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??Ks)(o,t)||r.useDefault&&r.reflect&&o===((n=this._$Ej)==null?void 0:n.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:n,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??t??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),n===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[s,o]of n){const{wrapped:a}=o,i=this[s];a!==!0||this._$AL.has(s)||i===void 0||this.C(s,void 0,o,i)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdate)==null?void 0:s.call(n)}),this.update(t)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostUpdated)==null?void 0:n.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};Nt.elementStyles=[],Nt.shadowRootOptions={mode:"open"},Nt[Yt("elementProperties")]=new Map,Nt[Yt("finalized")]=new Map,zr==null||zr({ReactiveElement:Nt}),(st.reactiveElementVersions??(st.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gt=globalThis,Er=Gt.trustedTypes,rs=Er?Er.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ys="$lit$",rt=`lit$${Math.random().toFixed(9).slice(2)}$`,Gs="?"+rt,hl=`<${Gs}>`,wt=document,Xt=()=>wt.createComment(""),er=e=>e===null||typeof e!="object"&&typeof e!="function",gn=Array.isArray,fl=e=>gn(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Kr=`[ 	
\f\r]`,Ht=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ns=/-->/g,ss=/>/g,lt=RegExp(`>|${Kr}(?:([^\\s"'>=/]+)(${Kr}*=${Kr}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),os=/'/g,as=/"/g,Js=/^(?:script|style|textarea|title)$/i,Rt=Symbol.for("lit-noChange"),ge=Symbol.for("lit-nothing"),is=new WeakMap,pt=wt.createTreeWalker(wt,129);function Zs(e,t){if(!gn(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return rs!==void 0?rs.createHTML(t):t}const ml=(e,t)=>{const r=e.length-1,n=[];let s,o=t===2?"<svg>":t===3?"<math>":"",a=Ht;for(let i=0;i<r;i++){const c=e[i];let l,d,u=-1,f=0;for(;f<c.length&&(a.lastIndex=f,d=a.exec(c),d!==null);)f=a.lastIndex,a===Ht?d[1]==="!--"?a=ns:d[1]!==void 0?a=ss:d[2]!==void 0?(Js.test(d[2])&&(s=RegExp("</"+d[2],"g")),a=lt):d[3]!==void 0&&(a=lt):a===lt?d[0]===">"?(a=s??Ht,u=-1):d[1]===void 0?u=-2:(u=a.lastIndex-d[2].length,l=d[1],a=d[3]===void 0?lt:d[3]==='"'?as:os):a===as||a===os?a=lt:a===ns||a===ss?a=Ht:(a=lt,s=void 0);const v=a===lt&&e[i+1].startsWith("/>")?" ":"";o+=a===Ht?c+hl:u>=0?(n.push(l),c.slice(0,u)+Ys+c.slice(u)+rt+v):c+rt+(u===-2?i:v)}return[Zs(e,o+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),n]};class tr{constructor({strings:t,_$litType$:r},n){let s;this.parts=[];let o=0,a=0;const i=t.length-1,c=this.parts,[l,d]=ml(t,r);if(this.el=tr.createElement(l,n),pt.currentNode=this.el.content,r===2||r===3){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(s=pt.nextNode())!==null&&c.length<i;){if(s.nodeType===1){if(s.hasAttributes())for(const u of s.getAttributeNames())if(u.endsWith(Ys)){const f=d[a++],v=s.getAttribute(u).split(rt),y=/([.?@])?(.*)/.exec(f);c.push({type:1,index:o,name:y[2],strings:v,ctor:y[1]==="."?wl:y[1]==="?"?yl:y[1]==="@"?bl:Tr}),s.removeAttribute(u)}else u.startsWith(rt)&&(c.push({type:6,index:o}),s.removeAttribute(u));if(Js.test(s.tagName)){const u=s.textContent.split(rt),f=u.length-1;if(f>0){s.textContent=Er?Er.emptyScript:"";for(let v=0;v<f;v++)s.append(u[v],Xt()),pt.nextNode(),c.push({type:2,index:++o});s.append(u[f],Xt())}}}else if(s.nodeType===8)if(s.data===Gs)c.push({type:2,index:o});else{let u=-1;for(;(u=s.data.indexOf(rt,u+1))!==-1;)c.push({type:7,index:o}),u+=rt.length-1}o++}}static createElement(t,r){const n=wt.createElement("template");return n.innerHTML=t,n}}function Lt(e,t,r=e,n){var a,i;if(t===Rt)return t;let s=n!==void 0?(a=r._$Co)==null?void 0:a[n]:r._$Cl;const o=er(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==o&&((i=s==null?void 0:s._$AO)==null||i.call(s,!1),o===void 0?s=void 0:(s=new o(e),s._$AT(e,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(t=Lt(e,s._$AS(e,t.values),s,n)),t}class gl{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:n}=this._$AD,s=((t==null?void 0:t.creationScope)??wt).importNode(r,!0);pt.currentNode=s;let o=pt.nextNode(),a=0,i=0,c=n[0];for(;c!==void 0;){if(a===c.index){let l;c.type===2?l=new ir(o,o.nextSibling,this,t):c.type===1?l=new c.ctor(o,c.name,c.strings,this,t):c.type===6&&(l=new El(o,this,t)),this._$AV.push(l),c=n[++i]}a!==(c==null?void 0:c.index)&&(o=pt.nextNode(),a++)}return pt.currentNode=wt,s}p(t){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}}class ir{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,r,n,s){this.type=2,this._$AH=ge,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Lt(this,t,r),er(t)?t===ge||t==null||t===""?(this._$AH!==ge&&this._$AR(),this._$AH=ge):t!==this._$AH&&t!==Rt&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):fl(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==ge&&er(this._$AH)?this._$AA.nextSibling.data=t:this.T(wt.createTextNode(t)),this._$AH=t}$(t){var o;const{values:r,_$litType$:n}=t,s=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=tr.createElement(Zs(n.h,n.h[0]),this.options)),n);if(((o=this._$AH)==null?void 0:o._$AD)===s)this._$AH.p(r);else{const a=new gl(s,this),i=a.u(this.options);a.p(r),this.T(i),this._$AH=a}}_$AC(t){let r=is.get(t.strings);return r===void 0&&is.set(t.strings,r=new tr(t)),r}k(t){gn(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const o of t)s===r.length?r.push(n=new ir(this.O(Xt()),this.O(Xt()),this,this.options)):n=r[s],n._$AI(o),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}}class Tr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,n,s,o){this.type=1,this._$AH=ge,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ge}_$AI(t,r=this,n,s){const o=this.strings;let a=!1;if(o===void 0)t=Lt(this,t,r,0),a=!er(t)||t!==this._$AH&&t!==Rt,a&&(this._$AH=t);else{const i=t;let c,l;for(t=o[0],c=0;c<o.length-1;c++)l=Lt(this,i[n+c],r,c),l===Rt&&(l=this._$AH[c]),a||(a=!er(l)||l!==this._$AH[c]),l===ge?t=ge:t!==ge&&(t+=(l??"")+o[c+1]),this._$AH[c]=l}a&&!s&&this.j(t)}j(t){t===ge?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class wl extends Tr{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ge?void 0:t}}class yl extends Tr{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==ge)}}class bl extends Tr{constructor(t,r,n,s,o){super(t,r,n,s,o),this.type=5}_$AI(t,r=this){if((t=Lt(this,t,r,0)??ge)===Rt)return;const n=this._$AH,s=t===ge&&n!==ge||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==ge&&(n===ge||s);s&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,t):this._$AH.handleEvent(t)}}class El{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Lt(this,t)}}const Yr=Gt.litHtmlPolyfillSupport;Yr==null||Yr(tr,ir),(Gt.litHtmlVersions??(Gt.litHtmlVersions=[])).push("3.3.1");const Al=(e,t,r)=>{const n=(r==null?void 0:r.renderBefore)??t;let s=n._$litPart$;if(s===void 0){const o=(r==null?void 0:r.renderBefore)??null;n._$litPart$=s=new ir(t.insertBefore(Xt(),o),o,void 0,r??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ft=globalThis;class gr extends Nt{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Al(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Rt}}var cs;gr._$litElement$=!0,gr.finalized=!0,(cs=ft.litElementHydrateSupport)==null||cs.call(ft,{LitElement:gr});const Gr=ft.litElementPolyfillSupport;Gr==null||Gr({LitElement:gr});(ft.litElementVersions??(ft.litElementVersions=[])).push("4.2.1");mn`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`;mn`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;mn`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function cr(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}cr({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"});cr({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});cr({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});cr({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});cr({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});export{xo as A,vr as B,h as C,W as D,$e as E,Q as G,ve as I,Ks as J,ln as K,ge as L,ot as M,Rt as N,re as O,G as Q,ne as R,lr as T,j as U,Be as V,Re as i,Te as j,mn as k,gr as m,le as p,Uo as q,Ce as s,Fe as u,Y as y,ue as z};
