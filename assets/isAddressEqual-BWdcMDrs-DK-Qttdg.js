import{e as f,aj as h,n as b,bw as l,aL as y,bx as $,w as x,by as w,bz as E,ag as P,bA as p,bB as R,a2 as N,ai as q,bC as g,bD as v,bE as A}from"./index-d4DvafWv.js";function M(a){const{abi:n,data:r}=a,s=b(r,0,4),t=n.find(e=>e.type==="function"&&s===l(y(e)));if(!t)throw new $(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?x(t.inputs,b(r,4)):void 0}}const u="/docs/contract/encodeErrorResult";function m(a){const{abi:n,errorName:r,args:s}=a;let t=n[0];if(r){const c=P({abi:n,args:s,name:r});if(!c)throw new p(r,{docsPath:u});t=c}if(t.type!=="error")throw new p(void 0,{docsPath:u});const e=y(t),o=l(e);let i="0x";if(s&&s.length>0){if(!t.inputs)throw new R(t.name,{docsPath:u});i=N(t.inputs,s)}return q([o,i])}const d="/docs/contract/encodeFunctionResult";function B(a){const{abi:n,functionName:r,result:s}=a;let t=n[0];if(r){const o=P({abi:n,name:r});if(!o)throw new g(r,{docsPath:d});t=o}if(t.type!=="function")throw new g(void 0,{docsPath:d});if(!t.outputs)throw new v(t.name,{docsPath:d});const e=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new A(s)})();return N(t.outputs,e)}const C="x-batch-gateway:true";async function F(a){const{data:n,ccipRequest:r}=a,{args:[s]}=M({abi:w,data:n}),t=[],e=[];return await Promise.all(s.map(async(o,i)=>{try{e[i]=o.urls.includes(C)?await F({data:o.data,ccipRequest:r}):await r(o),t[i]=!1}catch(c){t[i]=!0,e[i]=H(c)}})),B({abi:w,functionName:"query",result:[t,e]})}function H(a){return a.name==="HttpRequestError"&&a.status?m({abi:w,errorName:"HttpError",args:[a.status,a.shortMessage]}):m({abi:[E],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}function j(a,n){if(!f(a,{strict:!1}))throw new h({address:a});if(!f(n,{strict:!1}))throw new h({address:n});return a.toLowerCase()===n.toLowerCase()}export{C as H,F as M,j as O,M as x};
