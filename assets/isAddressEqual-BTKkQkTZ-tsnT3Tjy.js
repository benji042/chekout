import{f as h,aj as w,n as p,bj as l,aL as y,bk as q,y as E,bl as f,bm as R,ag as P,bn as b,bo as v,a2 as N,ai as x,bp as m,bq as M,br as A}from"./index-BbeGh-1k.js";function F(a){const{abi:s,data:r}=a,n=p(r,0,4),t=s.find(e=>e.type==="function"&&n===l(y(e)));if(!t)throw new q(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?E(t.inputs,p(r,4)):void 0}}const u="/docs/contract/encodeErrorResult";function g(a){const{abi:s,errorName:r,args:n}=a;let t=s[0];if(r){const c=P({abi:s,args:n,name:r});if(!c)throw new b(r,{docsPath:u});t=c}if(t.type!=="error")throw new b(void 0,{docsPath:u});const e=y(t),o=l(e);let i="0x";if(n&&n.length>0){if(!t.inputs)throw new v(t.name,{docsPath:u});i=N(t.inputs,n)}return x([o,i])}const d="/docs/contract/encodeFunctionResult";function H(a){const{abi:s,functionName:r,result:n}=a;let t=s[0];if(r){const o=P({abi:s,name:r});if(!o)throw new m(r,{docsPath:d});t=o}if(t.type!=="function")throw new m(void 0,{docsPath:d});if(!t.outputs)throw new M(t.name,{docsPath:d});const e=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new A(n)})();return N(t.outputs,e)}const L="x-batch-gateway:true";async function $(a){const{data:s,ccipRequest:r}=a,{args:[n]}=F({abi:f,data:s}),t=[],e=[];return await Promise.all(n.map(async(o,i)=>{try{e[i]=o.urls.includes(L)?await $({data:o.data,ccipRequest:r}):await r(o),t[i]=!1}catch(c){t[i]=!0,e[i]=j(c)}})),H({abi:f,functionName:"query",result:[t,e]})}function j(a){return a.name==="HttpRequestError"&&a.status?g({abi:f,errorName:"HttpError",args:[a.status,a.shortMessage]}):g({abi:[R],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}function C(a,s){if(!h(a,{strict:!1}))throw new w({address:a});if(!h(s,{strict:!1}))throw new w({address:s});return a.toLowerCase()===s.toLowerCase()}export{L as H,$ as M,C as S,F as x};
